
(function($,undefined){$.ui=$.ui||{};if($.ui.version){return;}
$.extend($.ui,{version:"1.8.4",plugin:{add:function(module,option,set){var proto=$.ui[moduleÂ ].prototype;for(var i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var set=instance.plugins[name];if(!set||!instance.element[0].parentNode){return;}
for(var i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b);},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;},isOverAxis:function(x,reference,size){return(x>reference)&&(x<(reference+size));},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width);},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});$.fn.extend({_focus:$.fn.focus,focus:function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):this._focus.apply(this,arguments);},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","");},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none");},scrollParent:function(){var scrollParent;if(($.browser.msie&&(/(static|relative)/).test(this.css('position')))||(/absolute/).test(this.css('position'))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.curCSS(this,'position',1))&&(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.curCSS(this,'overflow',1)+$.curCSS(this,'overflow-y',1)+$.curCSS(this,'overflow-x',1));}).eq(0);}
return(/fixed/).test(this.css('position'))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"));if(!isNaN(value)&&value!=0){return value;}}
elem=elem.parent();}}
return 0;}});$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,true))||0;if(border){size-=parseFloat($.curCSS(elem,"border"+this+"Width",true))||0;}
if(margin){size-=parseFloat($.curCSS(elem,"margin"+this,true))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$.style(this,type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$.style(this,type,reduce(this,size,true,margin)+"px");});};});function visible(element){return!$(element).parents().andSelf().filter(function(){return $.curCSS(this,"visibility")==="hidden"||$.expr.filters.hidden(this);}).length;}
$.extend($.expr[":"],{data:function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){var nodeName=element.nodeName.toLowerCase(),tabIndex=$.attr(element,"tabindex");if("area"===nodeName){var map=element.parentNode,mapName=map.name,img;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName?element.href||!isNaN(tabIndex):!isNaN(tabIndex))&&visible(element);},tabbable:function(element){var tabIndex=$.attr(element,"tabindex");return(isNaN(tabIndex)||tabIndex>=0)&&$(element).is(":focusable");}});})(jQuery);(function($,undefined){var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){if(!keepData){if(!selector||$.filter(selector,[this]).length){$("*",this).add([this]).each(function(){$(this).triggerHandler("remove");});}}
return _remove.call($(this),selector,keepData);});};$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName]=function(elem){return!!$.data(elem,name);};$[namespace]=$[namespace]||{};$[namespace][name]=function(options,element){if(arguments.length){this._createWidget(options,element);}};var basePrototype=new base();basePrototype.options=$.extend(true,{},basePrototype.options);$[namespace][name].prototype=$.extend(true,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype);$.widget.bridge(name,$[namespace][name]);};$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.extend.apply(null,[true,options].concat(args)):options;if(isMethodCall&&options.substring(0,1)==="_"){return returnValue;}
if(isMethodCall){this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,name);if(instance){if(options){instance.option(options);}
instance._init();}else{$.data(this,name,new object(options,this));}});}
return returnValue;};};$.Widget=function(options,element){if(arguments.length){this._createWidget(options,element);}};$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(options,element){$.data(element,this.widgetName,this);this.element=$(element);this.options=$.extend(true,{},this.options,$.metadata&&$.metadata.get(element)[this.widgetName],options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy();});this._create();this._init();},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled");},widget:function(){return this.element;},option:function(key,value){var options=key,self=this;if(arguments.length===0){return $.extend({},self.options);}
if(typeof key==="string"){if(value===undefined){return this.options[key];}
options={};options[key]=value;}
$.each(options,function(key,value){self._setOption(key,value);});return self;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget()
[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",value);}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_trigger:function(type,event,data){var callback=this.options[type];event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();data=data||{};if(event.originalEvent){for(var i=$.event.props.length,prop;i;){prop=$.event.props[--i];event[prop]=event.originalEvent[prop];}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.call(this.element[0],event,data)===false||event.isDefaultPrevented());}};})(jQuery);(function($,undefined){$.widget("ui.mouse",{options:{cancel:':input,option',distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind('mousedown.'+this.widgetName,function(event){return self._mouseDown(event);}).bind('click.'+this.widgetName,function(event){if(self._preventClickEvent){self._preventClickEvent=false;event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind('.'+this.widgetName);},_mouseDown:function(event){event.originalEvent=event.originalEvent||{};if(event.originalEvent.mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var self=this,btnIsLeft=(event.which==1),elIsCancel=(typeof this.options.cancel=="string"?$(event.target).parents().add(event.target).filter(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
this._mouseMoveDelegate=function(event){return self._mouseMove(event);};this._mouseUpDelegate=function(event){return self._mouseUp(event);};$(document).bind('mousemove.'+this.widgetName,this._mouseMoveDelegate).bind('mouseup.'+this.widgetName,this._mouseUpDelegate);($.browser.safari||event.preventDefault());event.originalEvent.mouseHandled=true;return true;},_mouseMove:function(event){if($.browser.msie&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind('mousemove.'+this.widgetName,this._mouseMoveDelegate).unbind('mouseup.'+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=(event.target==this._mouseDownEvent.target);this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(event){return this.mouseDelayMet;},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return true;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,horizontalDefault="center",verticalPositions=/top|center|bottom/,verticalDefault="center",_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var target=$(options.of),collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0],targetWidth,targetHeight,basePosition;if(options.of.nodeType===9){targetWidth=target.width();targetHeight=target.height();basePosition={top:0,left:0};}else if(options.of.scrollTo&&options.of.document){targetWidth=target.width();targetHeight=target.height();basePosition={top:target.scrollTop(),left:target.scrollLeft()};}else if(options.of.preventDefault){options.at="left top";targetWidth=targetHeight=0;basePosition={top:options.of.pageY,left:options.of.pageX};}else{targetWidth=target.outerWidth();targetHeight=target.outerHeight();basePosition=target.offset();}
$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");if(pos.length===1){pos=horizontalPositions.test(pos[0])?pos.concat([verticalDefault]):verticalPositions.test(pos[0])?[horizontalDefault].concat(pos):[horizontalDefault,verticalDefault];}
pos[0]=horizontalPositions.test(pos[0])?pos[0]:horizontalDefault;pos[1]=verticalPositions.test(pos[1])?pos[1]:verticalDefault;options[this]=pos;});if(collision.length===1){collision[1]=collision[0];}
offset[0]=parseInt(offset[0],10)||0;if(offset.length===1){offset[1]=offset[0];}
offset[1]=parseInt(offset[1],10)||0;if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]===horizontalDefault){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]===verticalDefault){basePosition.top+=targetHeight/2;}
basePosition.left+=offset[0];basePosition.top+=offset[1];return this.each(function(){var elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),position=$.extend({},basePosition);if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]===horizontalDefault){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]===verticalDefault){position.top-=elemHeight/2;}
position.left=parseInt(position.left);position.top=parseInt(position.top);$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,offset:offset,my:options.my,at:options.at});}});if($.fn.bgiframe){elem.bgiframe();}
elem.offset($.extend(position,{using:options.using}));});};$.ui.position={fit:{left:function(position,data){var win=$(window),over=position.left+data.elemWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(0,position.left);},top:function(position,data){var win=$(window),over=position.top+data.elemHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(0,position.top);}},flip:{left:function(position,data){if(data.at[0]==="center"){return;}
var win=$(window),over=position.left+data.elemWidth-win.width()-win.scrollLeft(),myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,offset=-2*data.offset[0];position.left+=position.left<0?myOffset+data.targetWidth+offset:over>0?myOffset-data.targetWidth+offset:0;},top:function(position,data){if(data.at[1]==="center"){return;}
var win=$(window),over=position.top+data.elemHeight-win.height()-win.scrollTop(),myOffset=data.my[1]==="top"?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=position.top<0?myOffset+data.targetHeight+offset:over>0?myOffset+atOffset+offset:0;}}};if(!$.offset.setOffset){$.offset.setOffset=function(elem,options){if(/static/.test($.curCSS(elem,"position"))){elem.style.position="relative";}
var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",true),10)||0,curLeft=parseInt($.curCSS(elem,"left",true),10)||0,props={top:(options.top-curOffset.top)+curTop,left:(options.left-curOffset.left)+curLeft};if('using'in options){options.using.call(elem,props);}else{curElem.css(props);}};$.fn.offset=function(options){var elem=this[0];if(!elem||!elem.ownerDocument){return null;}
if(options){return this.each(function(){$.offset.setOffset(this,options);});}
return _offset.call(this);};}}(jQuery));(function($,undefined){$.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase();}},_create:function(){var self=this,options=self.options;self.running=0;self.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");self.headers=self.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){if(options.disabled){return;}
$(this).addClass("ui-state-hover");}).bind("mouseleave.accordion",function(){if(options.disabled){return;}
$(this).removeClass("ui-state-hover");}).bind("focus.accordion",function(){if(options.disabled){return;}
$(this).addClass("ui-state-focus");}).bind("blur.accordion",function(){if(options.disabled){return;}
$(this).removeClass("ui-state-focus");});self.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");if(options.navigation){var current=self.element.find("a").filter(options.navigationFilter).eq(0);if(current.length){var header=current.closest(".ui-accordion-header");if(header.length){self.active=header;}else{self.active=current.closest(".ui-accordion-content").prev();}}}
self.active=self._findActive(self.active||options.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all ui-corner-top");self.active.next().addClass("ui-accordion-content-active");self._createIcons();self.resize();self.element.attr("role","tablist");self.headers.attr("role","tab").bind("keydown.accordion",function(event){return self._keydown(event);}).next().attr("role","tabpanel");self.headers.not(self.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();if(!self.active.length){self.headers.eq(0).attr("tabIndex",0);}else{self.active.attr({"aria-expanded":"true",tabIndex:0});}
if(!$.browser.safari){self.headers.find("a").attr("tabIndex",-1);}
if(options.event){self.headers.bind(options.event.split(" ").join(".accordion ")+".accordion",function(event){self._clickHandler.call(self,event,this);event.preventDefault();});}},_createIcons:function(){var options=this.options;if(options.icons){$("<span></span>").addClass("ui-icon "+options.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(options.icons.header).toggleClass(options.icons.headerSelected);this.element.addClass("ui-accordion-icons");}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons");},destroy:function(){var options=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var contents=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(options.autoHeight||options.fillHeight){contents.css("height","");}
return $.Widget.prototype.destroy.call(this);},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key=="active"){this.activate(value);}
if(key=="icons"){this._destroyIcons();if(value){this._createIcons();}}
if(key=="disabled"){this.headers.add(this.headers.next())
[value?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled");}},_keydown:function(event){if(this.options.disabled||event.altKey||event.ctrlKey){return;}
var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=false;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._clickHandler({target:event.target},event.target);event.preventDefault();}
if(toFocus){$(event.target).attr("tabIndex",-1);$(toFocus).attr("tabIndex",0);toFocus.focus();return false;}
return true;},resize:function(){var options=this.options,maxHeight;if(options.fillSpace){if($.browser.msie){var defOverflow=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden");}
maxHeight=this.element.parent().height();if($.browser.msie){this.element.parent().css("overflow",defOverflow);}
this.headers.each(function(){maxHeight-=$(this).outerHeight(true);});this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-
$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else if(options.autoHeight){maxHeight=0;this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height());}).height(maxHeight);}
return this;},activate:function(index){this.options.active=index;var active=this._findActive(index)[0];this._clickHandler({target:active},active);return this;},_findActive:function(selector){return selector?typeof selector==="number"?this.headers.filter(":eq("+selector+")"):this.headers.not(this.headers.not(selector)):selector===false?$([]):this.headers.filter(":eq(0)");},_clickHandler:function(event,target){var options=this.options;if(options.disabled){return;}
if(!event.target){if(!options.collapsible){return;}
this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header);this.active.next().addClass("ui-accordion-content-active");var toHide=this.active.next(),data={options:options,newHeader:$([]),oldHeader:options.active,newContent:$([]),oldContent:toHide},toShow=(this.active=$([]));this._toggle(toShow,toHide,data);return;}
var clicked=$(event.currentTarget||target),clickedIsActive=clicked[0]===this.active[0];options.active=options.collapsible&&clickedIsActive?false:this.headers.index(clicked);if(this.running||(!options.collapsible&&clickedIsActive)){return;}
this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header);if(!clickedIsActive){clicked.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(options.icons.header).addClass(options.icons.headerSelected);clicked.next().addClass("ui-accordion-content-active");}
var toShow=clicked.next(),toHide=this.active.next(),data={options:options,newHeader:clickedIsActive&&options.collapsible?$([]):clicked,oldHeader:this.active,newContent:clickedIsActive&&options.collapsible?$([]):toShow,oldContent:toHide},down=this.headers.index(this.active[0])>this.headers.index(clicked[0]);this.active=clickedIsActive?$([]):clicked;this._toggle(toShow,toHide,data,clickedIsActive,down);return;},_toggle:function(toShow,toHide,data,clickedIsActive,down){var self=this,options=self.options;self.toShow=toShow;self.toHide=toHide;self.data=data;var complete=function(){if(!self){return;}
return self._completed.apply(self,arguments);};self._trigger("changestart",null,self.data);self.running=toHide.size()===0?toShow.size():toHide.size();if(options.animated){var animOptions={};if(options.collapsible&&clickedIsActive){animOptions={toShow:$([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace};}else{animOptions={toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace};}
if(!options.proxied){options.proxied=options.animated;}
if(!options.proxiedDuration){options.proxiedDuration=options.duration;}
options.animated=$.isFunction(options.proxied)?options.proxied(animOptions):options.proxied;options.duration=$.isFunction(options.proxiedDuration)?options.proxiedDuration(animOptions):options.proxiedDuration;var animations=$.ui.accordion.animations,duration=options.duration,easing=options.animated;if(easing&&!animations[easing]&&!$.easing[easing]){easing="slide";}
if(!animations[easing]){animations[easing]=function(options){this.slide(options,{easing:easing,duration:duration||700});};}
animations[easing](animOptions);}else{if(options.collapsible&&clickedIsActive){toShow.toggle();}else{toHide.hide();toShow.show();}
complete(true);}
toHide.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();toShow.prev().attr({"aria-expanded":"true",tabIndex:0}).focus();},_completed:function(cancel){this.running=cancel?0:--this.running;if(this.running){return;}
if(this.options.clearStyle){this.toShow.add(this.toHide).css({height:"",overflow:""});}
this.toHide.removeClass("ui-accordion-content-active");this._trigger("change",null,this.data);}});$.extend($.ui.accordion,{version:"1.8.4",animations:{slide:function(options,additions){options=$.extend({easing:"swing",duration:300},options,additions);if(!options.toHide.size()){options.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},options);return;}
if(!options.toShow.size()){options.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},options);return;}
var overflow=options.toShow.css("overflow"),percentDone=0,showProps={},hideProps={},fxAttrs=["height","paddingTop","paddingBottom"],originalWidth;var s=options.toShow;originalWidth=s[0].style.width;s.width(parseInt(s.parent().width(),10)
-parseInt(s.css("paddingLeft"),10)
-parseInt(s.css("paddingRight"),10)
-(parseInt(s.css("borderLeftWidth"),10)||0)
-(parseInt(s.css("borderRightWidth"),10)||0));$.each(fxAttrs,function(i,prop){hideProps[prop]="hide";var parts=(""+$.css(options.toShow[0],prop)).match(/^([\d+-.]+)(.*)$/);showProps[prop]={value:parts[1],unit:parts[2]||"px"};});options.toShow.css({height:0,overflow:"hidden"}).show();options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate(hideProps,{step:function(now,settings){if(settings.prop=="height"){percentDone=(settings.end-settings.start===0)?0:(settings.now-settings.start)/(settings.end-settings.start);}
options.toShow[0].style[settings.prop]=(percentDone*showProps[settings.prop].value)
+showProps[settings.prop].unit;},duration:options.duration,easing:options.easing,complete:function(){if(!options.autoHeight){options.toShow.css("height","");}
options.toShow.css({width:originalWidth,overflow:overflow});options.complete();}});},bounceslide:function(options){this.slide(options,{easing:options.down?"easeOutBounce":"swing",duration:options.down?1000:200});}}});})(jQuery);(function($,undefined){$.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var self=this,doc=this.element[0].ownerDocument;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(event){if(self.options.disabled){return;}
var keyCode=$.ui.keyCode;switch(event.keyCode){case keyCode.PAGE_UP:self._move("previousPage",event);break;case keyCode.PAGE_DOWN:self._move("nextPage",event);break;case keyCode.UP:self._move("previous",event);event.preventDefault();break;case keyCode.DOWN:self._move("next",event);event.preventDefault();break;case keyCode.ENTER:case keyCode.NUMPAD_ENTER:if(self.menu.element.is(":visible")){event.preventDefault();}
case keyCode.TAB:if(!self.menu.active){return;}
self.menu.select(event);break;case keyCode.ESCAPE:self.element.val(self.term);self.close(event);break;default:clearTimeout(self.searching);self.searching=setTimeout(function(){if(self.term!=self.element.val()){self.selectedItem=null;self.search(null,event);}},self.options.delay);break;}}).bind("focus.autocomplete",function(){if(self.options.disabled){return;}
self.selectedItem=null;self.previous=self.element.val();}).bind("blur.autocomplete",function(event){if(self.options.disabled){return;}
clearTimeout(self.searching);self.closing=setTimeout(function(){self.close(event);self._change(event);},150);});this._initSource();this.response=function(){return self._response.apply(self,arguments);};this.menu=$("<ul></ul>").addClass("ui-autocomplete").appendTo($(this.options.appendTo||"body",doc)[0]).mousedown(function(event){var menuElement=self.menu.element[0];if(event.target===menuElement){setTimeout(function(){$(document).one('mousedown',function(event){if(event.target!==self.element[0]&&event.target!==menuElement&&!$.ui.contains(menuElement,event.target)){self.close();}});},1);}
setTimeout(function(){clearTimeout(self.closing);},13);}).menu({focus:function(event,ui){var item=ui.item.data("item.autocomplete");if(false!==self._trigger("focus",null,{item:item})){if(/^key/.test(event.originalEvent.type)){self.element.val(item.value);}}},selected:function(event,ui){var item=ui.item.data("item.autocomplete"),previous=self.previous;if(self.element[0]!==doc.activeElement){self.element.focus();self.previous=previous;}
if(false!==self._trigger("select",event,{item:item})){self.element.val(item.value);}
self.close(event);self.selectedItem=item;},blur:function(event,ui){if(self.menu.element.is(":visible")&&(self.element.val()!==self.term)){self.element.val(self.term);}}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");if($.fn.bgiframe){this.menu.element.bgiframe();}},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");this.menu.element.remove();$.Widget.prototype.destroy.call(this);},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="source"){this._initSource();}
if(key==="appendTo"){this.menu.element.appendTo($(value||"body",this.element[0].ownerDocument)[0])}},_initSource:function(){var array,url;if($.isArray(this.options.source)){array=this.options.source;this.source=function(request,response){response($.ui.autocomplete.filter(array,request.term));};}else if(typeof this.options.source==="string"){url=this.options.source;this.source=function(request,response){$.getJSON(url,request,response);};}else{this.source=this.options.source;}},search:function(value,event){value=value!=null?value:this.element.val();if(value.length<this.options.minLength){return this.close(event);}
clearTimeout(this.closing);if(this._trigger("search")===false){return;}
return this._search(value);},_search:function(value){this.term=this.element.addClass("ui-autocomplete-loading").val();this.source({term:value},this.response);},_response:function(content){if(content.length){content=this._normalize(content);this._suggest(content);this._trigger("open");}else{this.close();}
this.element.removeClass("ui-autocomplete-loading");},close:function(event){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this._trigger("close",event);this.menu.element.hide();this.menu.deactivate();}},_change:function(event){if(this.previous!==this.element.val()){this._trigger("change",event,{item:this.selectedItem});}},_normalize:function(items){if(items.length&&items[0].label&&items[0].value){return items;}
return $.map(items,function(item){if(typeof item==="string"){return{label:item,value:item};}
return $.extend({label:item.label||item.value,value:item.value||item.label},item);});},_suggest:function(items){var ul=this.menu.element.empty().zIndex(this.element.zIndex()+1),menuWidth,textWidth;this._renderMenu(ul,items);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position($.extend({of:this.element},this.options.position));menuWidth=ul.width("").outerWidth();textWidth=this.element.outerWidth();ul.outerWidth(Math.max(menuWidth,textWidth));},_renderMenu:function(ul,items){var self=this;$.each(items,function(index,item){self._renderItem(ul,item);});},_renderItem:function(ul,item){return $("<li></li>").data("item.autocomplete",item).append($("<a></a>").text(item.label)).appendTo(ul);},_move:function(direction,event){if(!this.menu.element.is(":visible")){this.search(null,event);return;}
if(this.menu.first()&&/^previous/.test(direction)||this.menu.last()&&/^next/.test(direction)){this.element.val(this.term);this.menu.deactivate();return;}
this.menu[direction](event);},widget:function(){return this.menu.element;}});$.extend($.ui.autocomplete,{escapeRegex:function(value){return value.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");},filter:function(array,term){var matcher=new RegExp($.ui.autocomplete.escapeRegex(term),"i");return $.grep(array,function(value){return matcher.test(value.label||value.value||value);});}});}(jQuery));(function($){$.widget("ui.menu",{_create:function(){var self=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(event){if(!$(event.target).closest(".ui-menu-item a").length){return;}
event.preventDefault();self.select(event);});this.refresh();},refresh:function(){var self=this;var items=this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem");items.children("a").addClass("ui-corner-all").attr("tabindex",-1).mouseenter(function(event){self.activate(event,$(this).parent());}).mouseleave(function(){self.deactivate();});},activate:function(event,item){this.deactivate();if(this.hasScroll()){var offset=item.offset().top-this.element.offset().top,scroll=this.element.attr("scrollTop"),elementHeight=this.element.height();if(offset<0){this.element.attr("scrollTop",scroll+offset);}else if(offset>elementHeight){this.element.attr("scrollTop",scroll+offset-elementHeight+item.height());}}
this.active=item.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",event,{item:item});},deactivate:function(){if(!this.active){return;}
this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null;},next:function(event){this.move("next",".ui-menu-item:first",event);},previous:function(event){this.move("prev",".ui-menu-item:last",event);},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length;},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length;},move:function(direction,edge,event){if(!this.active){this.activate(event,this.element.children(edge));return;}
var next=this.active[direction+"All"](".ui-menu-item").eq(0);if(next.length){this.activate(event,next);}else{this.activate(event,this.element.children(edge));}},nextPage:function(event){if(this.hasScroll()){if(!this.active||this.last()){this.activate(event,this.element.children(":first"));return;}
var base=this.active.offset().top,height=this.element.height(),result=this.element.children("li").filter(function(){var close=$(this).offset().top-base-height+$(this).height();return close<10&&close>-10;});if(!result.length){result=this.element.children(":last");}
this.activate(event,result);}else{this.activate(event,this.element.children(!this.active||this.last()?":first":":last"));}},previousPage:function(event){if(this.hasScroll()){if(!this.active||this.first()){this.activate(event,this.element.children(":last"));return;}
var base=this.active.offset().top,height=this.element.height();result=this.element.children("li").filter(function(){var close=$(this).offset().top-base+height-$(this).height();return close<10&&close>-10;});if(!result.length){result=this.element.children(":first");}
this.activate(event,result);}else{this.activate(event,this.element.children(!this.active||this.first()?":last":":first"));}},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight");},select:function(event){this._trigger("selected",event,{item:this.active});}});}(jQuery));(function($,undefined){var lastActive,baseClasses="ui-button ui-widget ui-state-default ui-corner-all",stateClasses="ui-state-hover ui-state-active ",typeClasses="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",formResetHandler=function(event){$(":ui-button",event.target.form).each(function(){var inst=$(this).data("button");setTimeout(function(){inst.refresh();},1);});},radioGroup=function(radio){var name=radio.name,form=radio.form,radios=$([]);if(name){if(form){radios=$(form).find("[name='"+name+"']");}else{radios=$("[name='"+name+"']",radio.ownerDocument).filter(function(){return!this.form;});}}
return radios;};$.widget("ui.button",{options:{text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",formResetHandler);this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var self=this,options=this.options,toggleButton=this.type==="checkbox"||this.type==="radio",hoverClass="ui-state-hover"+(!toggleButton?" ui-state-active":""),focusClass="ui-state-focus";if(options.label===null){options.label=this.buttonElement.html();}
if(this.element.is(":disabled")){options.disabled=true;}
this.buttonElement.addClass(baseClasses).attr("role","button").bind("mouseenter.button",function(){if(options.disabled){return;}
$(this).addClass("ui-state-hover");if(this===lastActive){$(this).addClass("ui-state-active");}}).bind("mouseleave.button",function(){if(options.disabled){return;}
$(this).removeClass(hoverClass);}).bind("focus.button",function(){$(this).addClass(focusClass);}).bind("blur.button",function(){$(this).removeClass(focusClass);});if(toggleButton){this.element.bind("change.button",function(){self.refresh();});}
if(this.type==="checkbox"){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}
$(this).toggleClass("ui-state-active");self.buttonElement.attr("aria-pressed",self.element[0].checked);});}else if(this.type==="radio"){this.buttonElement.bind("click.button",function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");self.buttonElement.attr("aria-pressed",true);var radio=self.element[0];radioGroup(radio).not(radio).map(function(){return $(this).button("widget")[0];}).removeClass("ui-state-active").attr("aria-pressed",false);});}else{this.buttonElement.bind("mousedown.button",function(){if(options.disabled){return false;}
$(this).addClass("ui-state-active");lastActive=this;$(document).one("mouseup",function(){lastActive=null;});}).bind("mouseup.button",function(){if(options.disabled){return false;}
$(this).removeClass("ui-state-active");}).bind("keydown.button",function(event){if(options.disabled){return false;}
if(event.keyCode==$.ui.keyCode.SPACE||event.keyCode==$.ui.keyCode.ENTER){$(this).addClass("ui-state-active");}}).bind("keyup.button",function(){$(this).removeClass("ui-state-active");});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(event){if(event.keyCode===$.ui.keyCode.SPACE){$(this).click();}});}}
this._setOption("disabled",options.disabled);},_determineButtonType:function(){if(this.element.is(":checkbox")){this.type="checkbox";}else{if(this.element.is(":radio")){this.type="radio";}else{if(this.element.is("input")){this.type="input";}else{this.type="button";}}}
if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var checked=this.element.is(":checked");if(checked){this.buttonElement.addClass("ui-state-active");}
this.buttonElement.attr("aria-pressed",checked);}else{this.buttonElement=this.element;}},widget:function(){return this.buttonElement;},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(baseClasses+" "+stateClasses+" "+typeClasses).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title");}
$.Widget.prototype.destroy.call(this);},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments);if(key==="disabled"){if(value){this.element.attr("disabled",true);}else{this.element.removeAttr("disabled");}}
this._resetButton();},refresh:function(){var isDisabled=this.element.is(":disabled");if(isDisabled!==this.options.disabled){this._setOption("disabled",isDisabled);}
if(this.type==="radio"){radioGroup(this.element[0]).each(function(){if($(this).is(":checked")){$(this).button("widget").addClass("ui-state-active").attr("aria-pressed",true);}else{$(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false);}});}else if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true);}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false);}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label);}
return;}
var buttonElement=this.buttonElement.removeClass(typeClasses),buttonText=$("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(buttonElement.empty()).text(),icons=this.options.icons,multipleIcons=icons.primary&&icons.secondary;if(icons.primary||icons.secondary){buttonElement.addClass("ui-button-text-icon"+
(multipleIcons?"s":(icons.primary?"-primary":"-secondary")));if(icons.primary){buttonElement.prepend("<span class='ui-button-icon-primary ui-icon "+icons.primary+"'></span>");}
if(icons.secondary){buttonElement.append("<span class='ui-button-icon-secondary ui-icon "+icons.secondary+"'></span>");}
if(!this.options.text){buttonElement.addClass(multipleIcons?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");if(!this.hasTitle){buttonElement.attr("title",buttonText);}}}else{buttonElement.addClass("ui-button-text-only");}}});$.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset");this._init();},_init:function(){this.refresh();},_setOption:function(key,value){if(key==="disabled"){this.buttons.button("option",key,value);}
$.Widget.prototype._setOption.apply(this,arguments);},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end();},destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return $(this).button("widget")[0];}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");$.Widget.prototype.destroy.call(this);}});}(jQuery));(function($,undefined){var uiDialogClasses='ui-dialog '+'ui-widget '+'ui-widget-content '+'ui-corner-all ';$.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:'close',dialogClass:'',draggable:true,hide:null,height:'auto',maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:'center',at:'center',of:window,collision:'fit',using:function(pos){var topOffset=$(this).css(pos).offset().top;if(topOffset<0){$(this).css('top',pos.top-topOffset);}}},resizable:true,show:null,stack:true,title:'',width:300,zIndex:1000},_create:function(){this.originalTitle=this.element.attr('title');if(typeof this.originalTitle!=="string"){this.originalTitle="";}
var self=this,options=self.options,title=options.title||self.originalTitle||'&#160;',titleId=$.ui.dialog.getTitleId(self.element),uiDialog=(self.uiDialog=$('<div></div>')).appendTo(document.body).hide().addClass(uiDialogClasses+options.dialogClass).css({zIndex:options.zIndex}).attr('tabIndex',-1).css('outline',0).keydown(function(event){if(options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){self.close(event);event.preventDefault();}}).attr({role:'dialog','aria-labelledby':titleId}).mousedown(function(event){self.moveToTop(false,event);}),uiDialogContent=self.element.show().removeAttr('title').addClass('ui-dialog-content '+'ui-widget-content').appendTo(uiDialog),uiDialogTitlebar=(self.uiDialogTitlebar=$('<div></div>')).addClass('ui-dialog-titlebar '+'ui-widget-header '+'ui-corner-all '+'ui-helper-clearfix').prependTo(uiDialog),uiDialogTitlebarClose=$('<a href="#"></a>').addClass('ui-dialog-titlebar-close '+'ui-corner-all').attr('role','button').hover(function(){uiDialogTitlebarClose.addClass('ui-state-hover');},function(){uiDialogTitlebarClose.removeClass('ui-state-hover');}).focus(function(){uiDialogTitlebarClose.addClass('ui-state-focus');}).blur(function(){uiDialogTitlebarClose.removeClass('ui-state-focus');}).click(function(event){self.close(event);return false;}).appendTo(uiDialogTitlebar),uiDialogTitlebarCloseText=(self.uiDialogTitlebarCloseText=$('<span></span>')).addClass('ui-icon '+'ui-icon-closethick').text(options.closeText).appendTo(uiDialogTitlebarClose),uiDialogTitle=$('<span></span>').addClass('ui-dialog-title').attr('id',titleId).html(title).prependTo(uiDialogTitlebar);if($.isFunction(options.beforeclose)&&!$.isFunction(options.beforeClose)){options.beforeClose=options.beforeclose;}
uiDialogTitlebar.find("*").add(uiDialogTitlebar).disableSelection();if(options.draggable&&$.fn.draggable){self._makeDraggable();}
if(options.resizable&&$.fn.resizable){self._makeResizable();}
self._createButtons(options.buttons);self._isOpen=false;if($.fn.bgiframe){uiDialog.bgiframe();}},_init:function(){if(this.options.autoOpen){this.open();}},destroy:function(){var self=this;if(self.overlay){self.overlay.destroy();}
self.uiDialog.hide();self.element.unbind('.dialog').removeData('dialog').removeClass('ui-dialog-content ui-widget-content').hide().appendTo('body');self.uiDialog.remove();if(self.originalTitle){self.element.attr('title',self.originalTitle);}
return self;},widget:function(){return this.uiDialog;},close:function(event){var self=this,maxZ;if(false===self._trigger('beforeClose',event)){return;}
if(self.overlay){self.overlay.destroy();}
self.uiDialog.unbind('keypress.ui-dialog');self._isOpen=false;if(self.options.hide){self.uiDialog.hide(self.options.hide,function(){self._trigger('close',event);});}else{self.uiDialog.hide();self._trigger('close',event);}
$.ui.dialog.overlay.resize();if(self.options.modal){maxZ=0;$('.ui-dialog').each(function(){if(this!==self.uiDialog[0]){maxZ=Math.max(maxZ,$(this).css('z-index'));}});$.ui.dialog.maxZ=maxZ;}
return self;},isOpen:function(){return this._isOpen;},moveToTop:function(force,event){var self=this,options=self.options,saveScroll;if((options.modal&&!force)||(!options.stack&&!options.modal)){return self._trigger('focus',event);}
if(options.zIndex>$.ui.dialog.maxZ){$.ui.dialog.maxZ=options.zIndex;}
if(self.overlay){$.ui.dialog.maxZ+=1;self.overlay.$el.css('z-index',$.ui.dialog.overlay.maxZ=$.ui.dialog.maxZ);}
saveScroll={scrollTop:self.element.attr('scrollTop'),scrollLeft:self.element.attr('scrollLeft')};$.ui.dialog.maxZ+=1;self.uiDialog.css('z-index',$.ui.dialog.maxZ);self.element.attr(saveScroll);self._trigger('focus',event);return self;},open:function(){if(this._isOpen){return;}
var self=this,options=self.options,uiDialog=self.uiDialog;self.overlay=options.modal?new $.ui.dialog.overlay(self):null;if(uiDialog.next().length){uiDialog.appendTo('body');}
self._size();self._position(options.position);uiDialog.show(options.show);self.moveToTop(true);if(options.modal){uiDialog.bind('keypress.ui-dialog',function(event){if(event.keyCode!==$.ui.keyCode.TAB){return;}
var tabbables=$(':tabbable',this),first=tabbables.filter(':first'),last=tabbables.filter(':last');if(event.target===last[0]&&!event.shiftKey){first.focus(1);return false;}else if(event.target===first[0]&&event.shiftKey){last.focus(1);return false;}});}
$(self.element.find(':tabbable').get().concat(uiDialog.find('.ui-dialog-buttonpane :tabbable').get().concat(uiDialog.get()))).eq(0).focus();self._trigger('open');self._isOpen=true;return self;},_createButtons:function(buttons){var self=this,hasButtons=false,uiDialogButtonPane=$('<div></div>').addClass('ui-dialog-buttonpane '+'ui-widget-content '+'ui-helper-clearfix'),uiButtonSet=$("<div></div>").addClass("ui-dialog-buttonset").appendTo(uiDialogButtonPane);self.uiDialog.find('.ui-dialog-buttonpane').remove();if(typeof buttons==='object'&&buttons!==null){$.each(buttons,function(){return!(hasButtons=true);});}
if(hasButtons){$.each(buttons,function(name,fn){var button=$('<button type="button"></button>').text(name).click(function(){fn.apply(self.element[0],arguments);}).appendTo(uiButtonSet);if($.fn.button){button.button();}});uiDialogButtonPane.appendTo(self.uiDialog);}},_makeDraggable:function(){var self=this,options=self.options,doc=$(document),heightBeforeDrag;function filteredUi(ui){return{position:ui.position,offset:ui.offset};}
self.uiDialog.draggable({cancel:'.ui-dialog-content, .ui-dialog-titlebar-close',handle:'.ui-dialog-titlebar',containment:'document',start:function(event,ui){heightBeforeDrag=options.height==="auto"?"auto":$(this).height();$(this).height($(this).height()).addClass("ui-dialog-dragging");self._trigger('dragStart',event,filteredUi(ui));},drag:function(event,ui){self._trigger('drag',event,filteredUi(ui));},stop:function(event,ui){options.position=[ui.position.left-doc.scrollLeft(),ui.position.top-doc.scrollTop()];$(this).removeClass("ui-dialog-dragging").height(heightBeforeDrag);self._trigger('dragStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}});},_makeResizable:function(handles){handles=(handles===undefined?this.options.resizable:handles);var self=this,options=self.options,position=self.uiDialog.css('position'),resizeHandles=(typeof handles==='string'?handles:'n,e,s,w,se,sw,ne,nw');function filteredUi(ui){return{originalPosition:ui.originalPosition,originalSize:ui.originalSize,position:ui.position,size:ui.size};}
self.uiDialog.resizable({cancel:'.ui-dialog-content',containment:'document',alsoResize:self.element,maxWidth:options.maxWidth,maxHeight:options.maxHeight,minWidth:options.minWidth,minHeight:self._minHeight(),handles:resizeHandles,start:function(event,ui){$(this).addClass("ui-dialog-resizing");self._trigger('resizeStart',event,filteredUi(ui));},resize:function(event,ui){self._trigger('resize',event,filteredUi(ui));},stop:function(event,ui){$(this).removeClass("ui-dialog-resizing");options.height=$(this).height();options.width=$(this).width();self._trigger('resizeStop',event,filteredUi(ui));$.ui.dialog.overlay.resize();}}).css('position',position).find('.ui-resizable-se').addClass('ui-icon ui-icon-grip-diagonal-se');},_minHeight:function(){var options=this.options;if(options.height==='auto'){return options.minHeight;}else{return Math.min(options.minHeight,options.height);}},_position:function(position){var myAt=[],offset=[0,0],isVisible;if(position){if(typeof position==='string'||(typeof position==='object'&&'0'in position)){myAt=position.split?position.split(' '):[position[0],position[1]];if(myAt.length===1){myAt[1]=myAt[0];}
$.each(['left','top'],function(i,offsetPosition){if(+myAt[i]===myAt[i]){offset[i]=myAt[i];myAt[i]=offsetPosition;}});position={my:myAt.join(" "),at:myAt.join(" "),offset:offset.join(" ")};}
position=$.extend({},$.ui.dialog.prototype.options.position,position);}else{position=$.ui.dialog.prototype.options.position;}
isVisible=this.uiDialog.is(':visible');if(!isVisible){this.uiDialog.show();}
this.uiDialog.css({top:0,left:0}).position(position);if(!isVisible){this.uiDialog.hide();}},_setOption:function(key,value){var self=this,uiDialog=self.uiDialog,isResizable=uiDialog.is(':data(resizable)'),resize=false;switch(key){case"beforeclose":key="beforeClose";break;case"buttons":self._createButtons(value);resize=true;break;case"closeText":self.uiDialogTitlebarCloseText.text(""+value);break;case"dialogClass":uiDialog.removeClass(self.options.dialogClass).addClass(uiDialogClasses+value);break;case"disabled":if(value){uiDialog.addClass('ui-dialog-disabled');}else{uiDialog.removeClass('ui-dialog-disabled');}
break;case"draggable":if(value){self._makeDraggable();}else{uiDialog.draggable('destroy');}
break;case"height":resize=true;break;case"maxHeight":if(isResizable){uiDialog.resizable('option','maxHeight',value);}
resize=true;break;case"maxWidth":if(isResizable){uiDialog.resizable('option','maxWidth',value);}
resize=true;break;case"minHeight":if(isResizable){uiDialog.resizable('option','minHeight',value);}
resize=true;break;case"minWidth":if(isResizable){uiDialog.resizable('option','minWidth',value);}
resize=true;break;case"position":self._position(value);break;case"resizable":if(isResizable&&!value){uiDialog.resizable('destroy');}
if(isResizable&&typeof value==='string'){uiDialog.resizable('option','handles',value);}
if(!isResizable&&value!==false){self._makeResizable(value);}
break;case"title":$(".ui-dialog-title",self.uiDialogTitlebar).html(""+(value||'&#160;'));break;case"width":resize=true;break;}
$.Widget.prototype._setOption.apply(self,arguments);if(resize){self._size();}},_size:function(){var options=this.options,nonContentHeight;this.element.css({width:'auto',minHeight:0,height:0});if(options.minWidth>options.width){options.width=options.minWidth;}
nonContentHeight=this.uiDialog.css({height:'auto',width:options.width}).height();this.element.css(options.height==='auto'?{minHeight:Math.max(options.minHeight-nonContentHeight,0),height:'auto'}:{minHeight:0,height:Math.max(options.height-nonContentHeight,0)}).show();if(this.uiDialog.is(':data(resizable)')){this.uiDialog.resizable('option','minHeight',this._minHeight());}}});$.extend($.ui.dialog,{version:"1.8.4",uuid:0,maxZ:0,getTitleId:function($el){var id=$el.attr('id');if(!id){this.uuid+=1;id=this.uuid;}
return'ui-dialog-title-'+id;},overlay:function(dialog){this.$el=$.ui.dialog.overlay.create(dialog);}});$.extend($.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:$.map('focus,mousedown,mouseup,keydown,keypress,click'.split(','),function(event){return event+'.dialog-overlay';}).join(' '),create:function(dialog){if(this.instances.length===0){setTimeout(function(){if($.ui.dialog.overlay.instances.length){$(document).bind($.ui.dialog.overlay.events,function(event){return($(event.target).zIndex()>=$.ui.dialog.overlay.maxZ);});}},1);$(document).bind('keydown.dialog-overlay',function(event){if(dialog.options.closeOnEscape&&event.keyCode&&event.keyCode===$.ui.keyCode.ESCAPE){dialog.close(event);event.preventDefault();}});$(window).bind('resize.dialog-overlay',$.ui.dialog.overlay.resize);}
var $el=(this.oldInstances.pop()||$('<div></div>').addClass('ui-widget-overlay')).appendTo(document.body).css({width:this.width(),height:this.height()});if($.fn.bgiframe){$el.bgiframe();}
this.instances.push($el);return $el;},destroy:function($el){this.oldInstances.push(this.instances.splice($.inArray($el,this.instances),1)[0]);if(this.instances.length===0){$([document,window]).unbind('.dialog-overlay');}
$el.remove();var maxZ=0;$.each(this.instances,function(){maxZ=Math.max(maxZ,this.css('z-index'));});this.maxZ=maxZ;},height:function(){var scrollHeight,offsetHeight;if($.browser.msie&&$.browser.version<7){scrollHeight=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);offsetHeight=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight);if(scrollHeight<offsetHeight){return $(window).height()+'px';}else{return scrollHeight+'px';}}else{return $(document).height()+'px';}},width:function(){var scrollWidth,offsetWidth;if($.browser.msie&&$.browser.version<7){scrollWidth=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);offsetWidth=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);if(scrollWidth<offsetWidth){return $(window).width()+'px';}else{return scrollWidth+'px';}}else{return $(document).width()+'px';}},resize:function(){var $overlays=$([]);$.each($.ui.dialog.overlay.instances,function(){$overlays=$overlays.add(this);});$overlays.css({width:0,height:0}).css({width:$.ui.dialog.overlay.width(),height:$.ui.dialog.overlay.height()});}});$.extend($.ui.dialog.overlay.prototype,{destroy:function(){$.ui.dialog.overlay.destroy(this.$el);}});}(jQuery));(function($,undefined){var tabId=0,listId=0;function getNextTabId(){return++tabId;}
function getNextListId(){return++listId;}
$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true);},_setOption:function(key,value){if(key=="selected"){if(this.options.collapsible&&value==this.options.selected){return;}
this.select(value);}else{this.options[key]=value;this._tabify();}},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+getNextTabId();},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:");},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)));},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)};},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs");});},_tabify:function(init){var self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=$("li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return $("a",this)[0];});this.panels=$([]);this.anchors.each(function(i,a){var href=$(a).attr("href");var hrefBase=href.split("#")[0],baseEl;if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)){href=a.hash;a.href=href;}
if(fragmentId.test(href)){self.panels=self.panels.add(self._sanitizeSelector(href));}else if(href!=="#"){$.data(a,"href.tabs",href);$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=$("#"+id);if(!$panel.length){$panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list);$panel.data("destroy.tabs",true);}
self.panels=self.panels.add($panel);}else{o.disabled.push(i);}});if(init){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(o.selected===undefined){if(location.hash){this.anchors.each(function(i,a){if(a.hash==location.hash){o.selected=i;return false;}});}
if(typeof o.selected!=="number"&&o.cookie){o.selected=parseInt(self._cookie(),10);}
if(typeof o.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length){o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}
o.selected=o.selected||(this.lis.length?0:-1);}else if(o.selected===null){o.selected=-1;}
o.selected=((o.selected>=0&&this.anchors[o.selected])||o.selected<0)?o.selected:0;o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n);}))).sort();if($.inArray(o.selected,o.disabled)!=-1){o.disabled.splice($.inArray(o.selected,o.disabled),1);}
this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");if(o.selected>=0&&this.anchors.length){this.panels.eq(o.selected).removeClass("ui-tabs-hide");this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active");self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.panels[o.selected]));});this.load(o.selected);}
$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs");self.lis=self.anchors=self.panels=null;});}else{o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));}
this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");if(o.cookie){this._cookie(o.selected,o.cookie);}
for(var i=0,li;(li=this.lis[i]);i++){$(li)[$.inArray(i,o.disabled)!=-1&&!$(li).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");}
if(o.cache===false){this.anchors.removeData("cache.tabs");}
this.lis.add(this.anchors).unbind(".tabs");if(o.event!=="mouseover"){var addState=function(state,el){if(el.is(":not(.ui-state-disabled)")){el.addClass("ui-state-"+state);}};var removeState=function(state,el){el.removeClass("ui-state-"+state);};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this));});this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this));});this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"));});this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"));});}
var hideFx,showFx;if(o.fx){if($.isArray(o.fx)){hideFx=o.fx[0];showFx=o.fx[1];}else{hideFx=showFx=o.fx;}}
function resetStyle($el,fx){$el.css("display","");if(!$.support.opacity&&fx.opacity){$el[0].style.removeAttribute("filter");}}
var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx);self._trigger("show",null,self._ui(clicked,$show[0]));});}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active");$show.removeClass("ui-tabs-hide");self._trigger("show",null,self._ui(clicked,$show[0]));};var hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");resetStyle($hide,hideFx);self.element.dequeue("tabs");});}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active");$hide.addClass("ui-tabs-hide");self.element.dequeue("tabs");};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=$(self._sanitizeSelector(el.hash));if(($li.hasClass("ui-tabs-selected")&&!o.collapsible)||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self._trigger("select",null,self._ui(this,$show[0]))===false){this.blur();return false;}
o.selected=self.anchors.index(this);self.abort();if(o.collapsible){if($li.hasClass("ui-tabs-selected")){o.selected=-1;if(o.cookie){self._cookie(o.selected,o.cookie);}
self.element.queue("tabs",function(){hideTab(el,$hide);}).dequeue("tabs");this.blur();return false;}else if(!$hide.length){if(o.cookie){self._cookie(o.selected,o.cookie);}
self.element.queue("tabs",function(){showTab(el,$show);});self.load(self.anchors.index(this));this.blur();return false;}}
if(o.cookie){self._cookie(o.selected,o.cookie);}
if($show.length){if($hide.length){self.element.queue("tabs",function(){hideTab(el,$hide);});}
self.element.queue("tabs",function(){showTab(el,$show);});self.load(self.anchors.index(this));}else{throw"jQuery UI Tabs: Mismatching fragment identifier.";}
if($.browser.msie){this.blur();}});this.anchors.bind("click.tabs",function(){return false;});},_getIndex:function(index){if(typeof index=="string"){index=this.anchors.index(this.anchors.filter("[href$="+index+"]"));}
return index;},destroy:function(){var o=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var href=$.data(this,"href.tabs");if(href){this.href=href;}
var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs");});});this.lis.unbind(".tabs").add(this.panels).each(function(){if($.data(this,"destroy.tabs")){$(this).remove();}else{$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "));}});if(o.cookie){this._cookie(null,o.cookie);}
return this;},add:function(url,label,index){if(index===undefined){index=this.anchors.length;}
var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=!url.indexOf("#")?url.replace("#",""):this._tabId($("a",$li)[0]);$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var $panel=$("#"+id);if(!$panel.length){$panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",true);}
$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(index>=this.lis.length){$li.appendTo(this.list);$panel.appendTo(this.list[0].parentNode);}else{$li.insertBefore(this.lis[index]);$panel.insertBefore(this.panels[index]);}
o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n;});this._tabify();if(this.anchors.length==1){o.selected=0;$li.addClass("ui-tabs-selected ui-state-active");$panel.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]));});this.load(0);}
this._trigger("add",null,this._ui(this.anchors[index],this.panels[index]));return this;},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();if($li.hasClass("ui-tabs-selected")&&this.anchors.length>1){this.select(index+(index+1<this.anchors.length?1:-1));}
o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index;}),function(n,i){return n>=index?--n:n;});this._tabify();this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0]));return this;},enable:function(index){index=this._getIndex(index);var o=this.options;if($.inArray(index,o.disabled)==-1){return;}
this.lis.eq(index).removeClass("ui-state-disabled");o.disabled=$.grep(o.disabled,function(n,i){return n!=index;});this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index]));return this;},disable:function(index){index=this._getIndex(index);var self=this,o=this.options;if(index!=o.selected){this.lis.eq(index).addClass("ui-state-disabled");o.disabled.push(index);o.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]));}
return this;},select:function(index){index=this._getIndex(index);if(index==-1){if(this.options.collapsible&&this.options.selected!=-1){index=this.options.selected;}else{return this;}}
this.anchors.eq(index).trigger(this.options.event+".tabs");return this;},load:function(indexÂ ){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");this.abort();if(!url||this.element.queue("tabs").length!==0&&$.data(a,"cache.tabs")){this.element.dequeue("tabs");return;}
this.lis.eq(index).addClass("ui-state-processing");if(o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner);}
this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){$(self._sanitizeSelector(a.hash)).html(r);self._cleanup();if(o.cache){$.data(a,"cache.tabs",true);}
self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s);}
catch(e){}},error:function(xhr,s,e){self._cleanup();self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a);}
catch(e){}}}));self.element.dequeue("tabs");return this;},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr;}
this._cleanup();return this;},url:function(index,url){this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url);return this;},length:function(){return this.anchors.length;}});$.extend($.ui.tabs,{version:"1.8.4"});$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options;var rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation);self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0);},ms);if(e){e.stopPropagation();}});var stop=self._unrotate||(self._unrotate=!continuing?function(e){if(e.clientX){self.rotate(null);}}:function(e){t=o.selected;rotate();});if(ms){this.element.bind("tabsshow",rotate);this.anchors.bind(o.event+".tabs",stop);rotate();}else{clearTimeout(self.rotation);this.element.unbind("tabsshow",rotate);this.anchors.unbind(o.event+".tabs",stop);delete this._rotate;delete this._unrotate;}
return this;}});})(jQuery);;jQuery.effects||(function($,undefined){$.effects={};$.each(['backgroundColor','borderBottomColor','borderLeftColor','borderRightColor','borderTopColor','color','outlineColor'],function(i,attr){$.fx.step[attr]=function(fx){if(!fx.colorInit){fx.start=getColor(fx.elem,attr);fx.end=getRGB(fx.end);fx.colorInit=true;}
fx.elem.style[attr]='rgb('+
Math.max(Math.min(parseInt((fx.pos*(fx.end[0]-fx.start[0]))+fx.start[0],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[1]-fx.start[1]))+fx.start[1],10),255),0)+','+
Math.max(Math.min(parseInt((fx.pos*(fx.end[2]-fx.start[2]))+fx.start[2],10),255),0)+')';};});function getRGB(color){var result;if(color&&color.constructor==Array&&color.length==3)
return color;if(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))
return[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)];if(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))
return[parseFloat(result[1])*2.55,parseFloat(result[2])*2.55,parseFloat(result[3])*2.55];if(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))
return[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)];if(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))
return[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)];if(result=/rgba\(0, 0, 0, 0\)/.exec(color))
return colors['transparent'];return colors[$.trim(color).toLowerCase()];}
function getColor(elem,attr){var color;do{color=$.curCSS(elem,attr);if(color!=''&&color!='transparent'||$.nodeName(elem,"body"))
break;attr="backgroundColor";}while(elem=elem.parentNode);return getRGB(color);};var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]};var classAnimationActions=['add','remove','toggle'],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={},key,camelCase;if(style&&style.length&&style[0]&&style[style[0]]){var len=style.length;while(len--){key=style[len];if(typeof style[key]=='string'){camelCase=key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase();});newStyle[camelCase]=style[key];}}}else{for(key in style){if(typeof style[key]==='string'){newStyle[key]=style[key];}}}
return newStyle;}
function filterStyles(styles){var name,value;for(name in styles){value=styles[name];if(value==null||$.isFunction(value)||name in shorthandStyles||(/scrollbar/).test(name)||(!(/color/i).test(name)&&isNaN(parseFloat(value)))){delete styles[name];}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={_:0},name;for(name in newStyle){if(oldStyle[name]!=newStyle[name]){diff[name]=newStyle[name];}}
return diff;}
$.effects.animateClass=function(value,duration,easing,callback){if($.isFunction(easing)){callback=easing;easing=null;}
return this.each(function(){var that=$(this),originalStyleAttr=that.attr('style')||' ',originalStyle=filterStyles(getElementStyles.call(this)),newStyle,className=that.attr('className');$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});newStyle=filterStyles(getElementStyles.call(this));that.attr('className',className);that.animate(styleDifference(originalStyle,newStyle),duration,easing,function(){$.each(classAnimationActions,function(i,action){if(value[action]){that[action+'Class'](value[action]);}});if(typeof that.attr('style')=='object'){that.attr('style').cssText='';that.attr('style').cssText=originalStyleAttr;}else{that.attr('style',originalStyleAttr);}
if(callback){callback.apply(this,arguments);}});});};$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames);},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames);},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){if(typeof force=="boolean"||force===undefined){if(!speed){return this._toggleClass(classNames,force);}else{return $.effects.animateClass.apply(this,[(force?{add:classNames}:{remove:classNames}),speed,easing,callback]);}}else{return $.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing]);}},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback]);}});$.extend($.effects,{version:"1.8.4",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.data("ec.storage."+set[i],element[0].style[set[i]]);}},restore:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null)element.css(set[i],element.data("ec.storage."+set[i]));}},setMode:function(el,mode){if(mode=='toggle')mode=el.is(':hidden')?'show':'hide';return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case'top':y=0;break;case'middle':y=0.5;break;case'bottom':y=1;break;default:y=origin[0]/original.height;};switch(origin[1]){case'left':x=0;break;case'center':x=0.5;break;case'right':x=1;break;default:x=origin[1]/original.width;};return{x:x,y:y};},createWrapper:function(element){if(element.parent().is('.ui-effects-wrapper')){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),'float':element.css('float')},wrapper=$('<div></div>').addClass('ui-effects-wrapper').css({fontSize:'100%',background:'transparent',border:'none',margin:0,padding:0});element.wrap(wrapper);wrapper=element.parent();if(element.css('position')=='static'){wrapper.css({position:'relative'});element.css({position:'relative'});}else{$.extend(props,{position:element.css('position'),zIndex:element.css('z-index')});$.each(['top','left','bottom','right'],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]='auto';}});element.css({position:'relative',top:0,left:0});}
return wrapper.css(props).show();},removeWrapper:function(element){if(element.parent().is('.ui-effects-wrapper'))
return element.parent().replaceWith(element);return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){unit=element.cssUnit(x);if(unit[0]>0)value[x]=unit[0]*factor+unit[1];});return value;}});function _normalizeArguments(effect,options,speed,callback){if(typeof effect=='object'){callback=options;speed=null;options=effect;effect=options.effect;}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options=='number'||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
options=options||{};speed=speed||options.duration;speed=$.fx.off?0:typeof speed=='number'?speed:$.fx.speeds[speed]||$.fx.speeds._default;callback=callback||options.complete;return[effect,options,speed,callback];}
$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},effectMethod=$.effects[effect];return effectMethod&&!$.fx.off?effectMethod.call(this,args2):this;},_show:$.fn.show,show:function(speed){if(!speed||typeof speed=='number'||$.fx.speeds[speed]){return this._show.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='show';return this.effect.apply(this,args);}},_hide:$.fn.hide,hide:function(speed){if(!speed||typeof speed=='number'||$.fx.speeds[speed]){return this._hide.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='hide';return this.effect.apply(this,args);}},__toggle:$.fn.toggle,toggle:function(speed){if(!speed||typeof speed=='number'||$.fx.speeds[speed]||typeof speed=='boolean'||$.isFunction(speed)){return this.__toggle.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args[1].mode='toggle';return this.effect.apply(this,args);}},cssUnit:function(key){var style=this.css(key),val=[];$.each(['em','px','%','pt'],function(i,unit){if(style.indexOf(unit)>0)
val=[parseFloat(style),unit];});return val;}});$.easing.jswing=$.easing.swing;$.extend($.easing,{def:'easeOutQuad',swing:function(x,t,b,c,d){return $.easing[$.easing.def](x,t,b,c,d);},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b;},easeOutQuad:function(x,t,b,c,d){return-c*(t/=d)*(t-2)+b;},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t+b;return-c/2*((--t)*(t-2)-1)+b;},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b;},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b;},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t+b;return c/2*((t-=2)*t*t+2)+b;},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b;},easeOutQuart:function(x,t,b,c,d){return-c*((t=t/d-1)*t*t*t-1)+b;},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t+b;return-c/2*((t-=2)*t*t*t-2)+b;},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b;},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b;},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1)return c/2*t*t*t*t*t+b;return c/2*((t-=2)*t*t*t*t+2)+b;},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b;},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b;},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b;},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b;},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b;},easeInOutExpo:function(x,t,b,c,d){if(t==0)return b;if(t==d)return b+c;if((t/=d/2)<1)return c/2*Math.pow(2,10*(t-1))+b;return c/2*(-Math.pow(2,-10*--t)+2)+b;},easeInCirc:function(x,t,b,c,d){return-c*(Math.sqrt(1-(t/=d)*t)-1)+b;},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b;},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1)return-c/2*(Math.sqrt(1-t*t)-1)+b;return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b;},easeInElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return-(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;},easeOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d)==1)return b+c;if(!p)p=d*.3;if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b;},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;var p=0;var a=c;if(t==0)return b;if((t/=d/2)==2)return b+c;if(!p)p=d*(.3*1.5);if(a<Math.abs(c)){a=c;var s=p/4;}
else var s=p/(2*Math.PI)*Math.asin(c/a);if(t<1)return-.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b;return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*.5+c+b;},easeInBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*(t/=d)*t*((s+1)*t-s)+b;},easeOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b;},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined)s=1.70158;if((t/=d/2)<1)return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b;return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b;},easeInBounce:function(x,t,b,c,d){return c-$.easing.easeOutBounce(x,d-t,0,c,d)+b;},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b;}else if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+.75)+b;}else if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+.9375)+b;}else{return c*(7.5625*(t-=(2.625/2.75))*t+.984375)+b;}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2)return $.easing.easeInBounce(x,t*2,0,c,d)*.5+b;return $.easing.easeOutBounce(x,t*2-d,0,c,d)*.5+c*.5+b;}});})(jQuery);(function($,undefined){$.effects.blind=function(o){return this.queue(function(){var el=$(this),props=['position','top','left'];var mode=$.effects.setMode(el,o.options.mode||'hide');var direction=o.options.direction||'vertical';$.effects.save(el,props);el.show();var wrapper=$.effects.createWrapper(el).css({overflow:'hidden'});var ref=(direction=='vertical')?'height':'width';var distance=(direction=='vertical')?wrapper.height():wrapper.width();if(mode=='show')wrapper.css(ref,0);var animation={};animation[ref]=mode=='show'?distance:0;wrapper.animate(animation,o.duration,o.options.easing,function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(el[0],arguments);el.dequeue();});});};})(jQuery);(function($,undefined){$.effects.bounce=function(o){return this.queue(function(){var el=$(this),props=['position','top','left'];var mode=$.effects.setMode(el,o.options.mode||'effect');var direction=o.options.direction||'up';var distance=o.options.distance||20;var times=o.options.times||5;var speed=o.duration||250;if(/show|hide/.test(mode))props.push('opacity');$.effects.save(el,props);el.show();$.effects.createWrapper(el);var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true})/3:el.outerWidth({margin:true})/3);if(mode=='show')el.css('opacity',0).css(ref,motion=='pos'?-distance:distance);if(mode=='hide')distance=distance/(times*2);if(mode!='hide')times--;if(mode=='show'){var animation={opacity:1};animation[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation,speed/2,o.options.easing);distance=distance/2;times--;};for(var i=0;i<times;i++){var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing);distance=(mode=='hide')?distance*2:distance/2;};if(mode=='hide'){var animation={opacity:0};animation[ref]=(motion=='pos'?'-=':'+=')+distance;el.animate(animation,speed/2,o.options.easing,function(){el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);});}else{var animation1={},animation2={};animation1[ref]=(motion=='pos'?'-=':'+=')+distance;animation2[ref]=(motion=='pos'?'+=':'-=')+distance;el.animate(animation1,speed/2,o.options.easing).animate(animation2,speed/2,o.options.easing,function(){$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);});};el.queue('fx',function(){el.dequeue();});el.dequeue();});};})(jQuery);(function($,undefined){$.effects.highlight=function(o){return this.queue(function(){var elem=$(this),props=['backgroundImage','backgroundColor','opacity'],mode=$.effects.setMode(elem,o.options.mode||'show'),animation={backgroundColor:elem.css('backgroundColor')};if(mode=='hide'){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:'none',backgroundColor:o.options.color||'#ffff99'}).animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){(mode=='hide'&&elem.hide());$.effects.restore(elem,props);(mode=='show'&&!$.support.opacity&&this.style.removeAttribute('filter'));(o.callback&&o.callback.apply(this,arguments));elem.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.pulsate=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'show');times=((o.options.times||5)*2)-1;duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(':visible'),animateTo=0;if(!isVisible){elem.css('opacity',0).show();animateTo=1;}
if((mode=='hide'&&isVisible)||(mode=='show'&&!isVisible)){times--;}
for(var i=0;i<times;i++){elem.animate({opacity:animateTo},duration,o.options.easing);animateTo=(animateTo+1)%2;}
elem.animate({opacity:animateTo},duration,o.options.easing,function(){if(animateTo==0){elem.hide();}
(o.callback&&o.callback.apply(this,arguments));});elem.queue('fx',function(){elem.dequeue();}).dequeue();});};})(jQuery);(function($,undefined){$.effects.puff=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||'hide'),percent=parseInt(o.options.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width()};$.extend(o.options,{fade:true,mode:mode,percent:mode=='hide'?percent:100,from:mode=='hide'?original:{height:original.height*factor,width:original.width*factor}});elem.effect('scale',o.options,o.duration,o.callback);elem.dequeue();});};$.effects.scale=function(o){return this.queue(function(){var el=$(this);var options=$.extend(true,{},o.options);var mode=$.effects.setMode(el,o.options.mode||'effect');var percent=parseInt(o.options.percent,10)||(parseInt(o.options.percent,10)==0?0:(mode=='hide'?0:100));var direction=o.options.direction||'both';var origin=o.options.origin;if(mode!='effect'){options.origin=origin||['middle','center'];options.restore=true;}
var original={height:el.height(),width:el.width()};el.from=o.options.from||(mode=='show'?{height:0,width:0}:original);var factor={y:direction!='horizontal'?(percent/100):1,x:direction!='vertical'?(percent/100):1};el.to={height:original.height*factor.y,width:original.width*factor.x};if(o.options.fade){if(mode=='show'){el.from.opacity=0;el.to.opacity=1;};if(mode=='hide'){el.from.opacity=1;el.to.opacity=0;};};options.from=el.from;options.to=el.to;options.mode=mode;el.effect('size',options,o.duration,o.callback);el.dequeue();});};$.effects.size=function(o){return this.queue(function(){var el=$(this),props=['position','top','left','width','height','overflow','opacity'];var props1=['position','top','left','overflow','opacity'];var props2=['width','height','overflow'];var cProps=['fontSize'];var vProps=['borderTopWidth','borderBottomWidth','paddingTop','paddingBottom'];var hProps=['borderLeftWidth','borderRightWidth','paddingLeft','paddingRight'];var mode=$.effects.setMode(el,o.options.mode||'effect');var restore=o.options.restore||false;var scale=o.options.scale||'both';var origin=o.options.origin;var original={height:el.height(),width:el.width()};el.from=o.options.from||original;el.to=o.options.to||original;if(origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y;el.from.left=(original.width-el.from.width)*baseline.x;el.to.top=(original.height-el.to.height)*baseline.y;el.to.left=(original.width-el.to.width)*baseline.x;};var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale=='box'||scale=='both'){if(factor.from.y!=factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);};if(factor.from.x!=factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);};};if(scale=='content'||scale=='both'){if(factor.from.y!=factor.to.y){props=props.concat(cProps);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);};};$.effects.save(el,restore?props:props1);el.show();$.effects.createWrapper(el);el.css('overflow','hidden').css(el.from);if(scale=='content'||scale=='both'){vProps=vProps.concat(['marginTop','marginBottom']).concat(cProps);hProps=hProps.concat(['marginLeft','marginRight']);props2=props.concat(vProps).concat(hProps);el.find("*[width]").each(function(){child=$(this);if(restore)$.effects.save(child,props2);var c_original={height:child.height(),width:child.width()};child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x};if(factor.from.y!=factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);};if(factor.from.x!=factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);};child.css(child.from);child.animate(child.to,o.duration,o.options.easing,function(){if(restore)$.effects.restore(child,props2);});});};el.animate(el.to,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(el.to.opacity===0){el.css('opacity',el.from.opacity);}
if(mode=='hide')el.hide();$.effects.restore(el,restore?props:props1);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.slide=function(o){return this.queue(function(){var el=$(this),props=['position','top','left'];var mode=$.effects.setMode(el,o.options.mode||'show');var direction=o.options.direction||'left';$.effects.save(el,props);el.show();$.effects.createWrapper(el).css({overflow:'hidden'});var ref=(direction=='up'||direction=='down')?'top':'left';var motion=(direction=='up'||direction=='left')?'pos':'neg';var distance=o.options.distance||(ref=='top'?el.outerHeight({margin:true}):el.outerWidth({margin:true}));if(mode=='show')el.css(ref,motion=='pos'?-distance:distance);var animation={};animation[ref]=(mode=='show'?(motion=='pos'?'+=':'-='):(motion=='pos'?'-=':'+='))+distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.options.easing,complete:function(){if(mode=='hide')el.hide();$.effects.restore(el,props);$.effects.removeWrapper(el);if(o.callback)o.callback.apply(this,arguments);el.dequeue();}});});};})(jQuery);(function($,undefined){$.effects.transfer=function(o){return this.queue(function(){var elem=$(this),target=$(o.options.to),endPosition=target.offset(),animation={top:endPosition.top,left:endPosition.left,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:startPosition.top,left:startPosition.left,height:elem.innerHeight(),width:elem.innerWidth(),position:'absolute'}).animate(animation,o.duration,o.options.easing,function(){transfer.remove();(o.callback&&o.callback.apply(elem[0],arguments));elem.dequeue();});});};})(jQuery);
(function($){jQuery.fn.carousel=function(params){var sNext='Next';var sPrev='Previous';var params=jQuery.extend({direction:"horizontal",loop:false,dispItems:1,pagination:false,paginationPosition:"inside",paginationText:false,multiDisplay:false,elementsPerItem:0,nextBtn:'<a role="button">'+sNext+'</a>',prevBtn:'<a role="button">'+sPrev+'</a>',btnsPosition:"inside",nextBtnInsert:"appendTo",prevBtnInsert:"prependTo",nextBtnInsertFn:false,prevBtnInsertFn:false,autoSlide:false,autoSlideInterval:3000,delayAutoSlide:false,combinedClasses:false,effect:"slide",slideEasing:"swing",animSpeed:"normal",equalWidths:"true",verticalMargin:0,callback:function(){},useAddress:false,adressIdentifier:"carousel",tabLabel:function(tabNum){return tabNum;}},params);if(params.btnsPosition=="outside"){params.prevBtnInsert="insertBefore";params.nextBtnInsert="insertAfter";}
if(params.btnsPosition=="after"){params.prevBtnInsert="appendTo";params.nextBtnInsert="appendTo";}
if(params.btnsPosition=="before"){params.prevBtnInsert="prependTo";params.nextBtnInsert="prependTo";}
params.delayAutoSlide=params.delayAutoSlide||params.autoSlideInterval;return this.each(function(){var env={$elts:{},params:params,launchOnLoad:[]};this.goToStep=function(step){goToStep(env,step);};this.getRelativeStep=function(sens){return getRelativeStep(env,sens);}
env.$elts.carousel=jQuery(this).addClass("js");env.$elts.content=jQuery(this).children().css({position:"absolute","top":0});env.$elts.wrap=env.$elts.content.wrap('<div class="carousel-wrap"></div>').parent().css({overflow:"hidden",position:"relative"});env.steps={first:0,count:env.$elts.content.children().length};env.steps.last=env.steps.count-1;if(jQuery.isFunction(env.params.prevBtnInsertFn)){env.$elts.prevBtn=env.params.prevBtnInsertFn(env.$elts);}else{env.$elts.prevBtn=jQuery(params.prevBtn)[params.prevBtnInsert](env.$elts.carousel);}
if(jQuery.isFunction(env.params.nextBtnInsertFn)){env.$elts.nextBtn=env.params.nextBtnInsertFn(env.$elts);}else{env.$elts.nextBtn=jQuery(params.nextBtn)[params.nextBtnInsert](env.$elts.carousel);}
env.$elts.nextBtn.addClass("carousel-control next carousel-next");env.$elts.prevBtn.addClass("carousel-control previous carousel-previous");initButtonsEvents(env);if(env.params.pagination){initPagination(env);}
initAddress(env);jQuery(function(){var $items=env.$elts.content.children();var $maxHeight=0;$items.each(function(){$item=jQuery(this);$itemHeight=$item.outerHeight();if($itemHeight>$maxHeight){$maxHeight=$itemHeight;}});if(env.params.verticalMargin>0){$maxHeight=$maxHeight+env.params.verticalMargin;}
var $firstItem=env.$elts.content.children(":first");env.itemWidth=$firstItem.width();if(params.direction=="vertical"){env.contentWidth=env.itemWidth;}else{if(params.equalWidths){env.contentWidth=env.itemWidth*env.steps.count;}else{env.contentWidth=(function(){var totalWidth=0;env.$elts.content.children().each(function(){totalWidth+=jQuery(this).outerWidth();});return totalWidth;})();}}
env.$elts.content.children().css({width:env.itemWidth-15+"px"});env.$elts.content.width(env.contentWidth);env.itemHeight=$maxHeight;if(params.direction=="vertical"){env.$elts.content.css({height:env.itemHeight*env.steps.count+"px"});env.$elts.content.parent().css({height:env.itemHeight*env.params.dispItems+"px"});}else{env.$elts.content.parent().css({height:env.itemHeight+"px"});}
updateButtonsState(env);jQuery.each(env.launchOnLoad,function(i,fn){fn();});if(env.params.autoSlide){window.setTimeout(function(){env.autoSlideInterval=window.setInterval(function(){goToStep(env,getRelativeStep(env,"next"));},env.params.autoSlideInterval);},env.params.delayAutoSlide);}});});};function initButtonsEvents(env){if(env.steps.count<=env.params.dispItems){env.$elts.nextBtn.addClass("next-hidden");env.$elts.prevBtn.addClass("previous-hidden");}
env.$elts.nextBtn.add(env.$elts.prevBtn).bind("enable",function(){var $this=jQuery(this).unbind("click").bind("click",function(){goToStep(env,getRelativeStep(env,($this.is(".next")?"next":"prev")));stopAutoSlide(env);}).removeClass("disabled");if(env.params.combinedClasses){$this.removeClass("next-disabled previous-disabled");}}).bind("disable",function(){var $this=jQuery(this).unbind("click").addClass("disabled");if(env.params.combinedClasses){if($this.is(".next")){$this.addClass("next-disabled");}else if($this.is(".previous")){$this.addClass("previous-disabled");}}}).hover(function(){jQuery(this).toggleClass("hover");});};function initPagination(env){env.$elts.pagination=jQuery('<div class="center-wrap"><div class="carousel-pagination"><p></p></div></div>')[((env.params.paginationPosition=="outside")?"insertAfter":"appendTo")](env.$elts.carousel).find("p");env.$elts.paginationBtns=jQuery([]);env.$elts.allItems=env.$elts.content.children("li");env.$elts.allItems.each(function(i){if(i%env.params.dispItems==0){env.$elts.paginationBtns=env.$elts.paginationBtns.add(jQuery('<a role="button"><span>'+env.params.tabLabel(env.$elts.paginationBtns.length+1)+'</span></a>').data("firstStep",i));}});env.$elts.paginationBtns.each(function(){jQuery(this).appendTo(env.$elts.pagination);});if(env.params.paginationText){var paginationText=env.params.paginationText;paginationText=paginationText.replace('%currentPage%',1);if(env.params.multiDisplay==true){paginationText=paginationText.replace('%maxItems%',env.$elts.content.find('li li').length);paginationText=paginationText.replace('%currentItemMax%',env.params.elementsPerItem);}else{paginationText=paginationText.replace('%maxItems%',env.$elts.allItems.length);paginationText=paginationText.replace('%currentItemMax%',env.params.dispItems);}
paginationText=paginationText.replace('%maxPages%',env.$elts.paginationBtns.length);paginationText=paginationText.replace('%prevPage%',env.$elts.paginationBtns.length);paginationText=paginationText.replace('%nextPage%',2);paginationText=paginationText.replace('%currentItemMin%',1);paginationText=paginationText.replace('%currentItemMax%',env.params.dispItems);paginationText=paginationText.replace('%maxItems%',env.$elts.allItems.length);env.$elts.paginationText=jQuery('<span class="carousel-pagination-text"/>').text(paginationText);env.$elts.paginationText.appendTo(env.$elts.pagination);}
env.$elts.paginationBtns.slice(0,1).addClass("active");env.launchOnLoad.push(function(){env.$elts.paginationBtns.click(function(e){goToStep(env,jQuery(this).data("firstStep"));stopAutoSlide(env);});});};function initAddress(env){if(env.params.useAddress&&jQuery.isFunction(jQuery.fn.address)){jQuery.address.init(function(e){var pathNames=jQuery.address.pathNames();if(pathNames[0]===env.params.adressIdentifier&&!!pathNames[1]){goToStep(env,pathNames[1]-1);}else{jQuery.address.value('/'+env.params.adressIdentifier+'/1');}}).change(function(e){var pathNames=jQuery.address.pathNames();if(pathNames[0]===env.params.adressIdentifier&&!!pathNames[1]){goToStep(env,pathNames[1]-1);}});}else{env.params.useAddress=false;}};function goToStep(env,step){env.params.callback(step);transition(env,step);env.steps.first=step;updateButtonsState(env);if(env.params.useAddress){jQuery.address.value('/'+env.params.adressIdentifier+'/'+(step+1));}};function getRelativeStep(env,position){if(position=="prev"){if((env.steps.first-env.params.dispItems)>=0){return env.steps.first-env.params.dispItems;}else{var returnCount=env.steps.count-(env.steps.count%env.params.dispItems);if(returnCount==env.steps.count)
{return(env.params.loop)?(env.steps.count-env.params.dispItems):false;}else{return returnCount;}}}else if(position=="next"){if((env.steps.first+env.params.dispItems)<env.steps.count){return env.steps.first+env.params.dispItems;}else{return((env.params.loop)?0:false);}}};function transition(env,step){switch(env.params.effect){case"no":if(env.params.direction=="vertical"){env.$elts.content.css("top",-(env.itemHeight*step)+"px");}else{env.$elts.content.css("left",-(env.itemWidth*step)+"px");}
break;case"fade":if(env.params.direction=="vertical"){env.$elts.content.hide().css("top",-(env.itemHeight*step)+"px").fadeIn(env.params.animSpeed);}else{env.$elts.content.hide().css("left",-(env.itemWidth*step)+"px").fadeIn(env.params.animSpeed);}
break;default:if(env.params.direction=="vertical"){env.$elts.content.stop().animate({top:-(env.itemHeight*step)+"px"},env.params.animSpeed,env.params.slideEasing);}else{env.$elts.content.stop().animate({left:-(env.itemWidth*step)+"px"},env.params.animSpeed,env.params.slideEasing);}
break;}};function updateButtonsState(env){if(getRelativeStep(env,"prev")!==false){env.$elts.prevBtn.trigger("enable");}else{env.$elts.prevBtn.trigger("disable");}
if(getRelativeStep(env,"next")!==false){env.$elts.nextBtn.trigger("enable");}else{env.$elts.nextBtn.trigger("disable");}
if(env.params.pagination){env.$elts.paginationBtns.removeClass("active").filter(function(){return(jQuery(this).data("firstStep")==env.steps.first);}).addClass("active");if(env.params.paginationText){var maxPages=env.$elts.paginationBtns.length;var currentPage=Math.floor(env.steps.first/env.params.dispItems)+1;var nextPage=(currentPage==maxPages)?1:(currentPage+1);var prevPage=(currentPage==1)?maxPages:(currentPage-1);if(env.params.multiDisplay==true){var maxItems=env.$elts.content.find('li li').length;var currentItemMin=(env.steps.first*env.params.elementsPerItem)+1;var currentItemMax=(currentPage==maxPages)?maxItems:currentItemMin+env.params.elementsPerItem-1;}else{var maxItems=env.$elts.allItems.length;var currentItemMin=env.steps.first+1;var currentItemMax=(currentPage==maxPages)?maxItems:currentItemMin+env.params.dispItems-1;}
var paginationText=env.params.paginationText;paginationText=paginationText.replace('%currentPage%',currentPage);paginationText=paginationText.replace('%maxPages%',maxPages);paginationText=paginationText.replace('%nextPage%',nextPage);paginationText=paginationText.replace('%prevPage%',prevPage);paginationText=paginationText.replace('%currentItemMin%',currentItemMin);paginationText=paginationText.replace('%currentItemMax%',currentItemMax);paginationText=paginationText.replace('%maxItems%',maxItems);env.$elts.paginationText.text(paginationText);}}};function stopAutoSlide(env){if(!!env.autoSlideInterval){window.clearInterval(env.autoSlideInterval);}};})(jQuery);
(function($){jQuery.fn.lazyload=function(options){var settings={callback:null,threshold:0,failurelimit:0,event:"scroll",effect:"show",container:window};if(options){jQuery.extend(settings,options);}
var elements=this;if("scroll"==settings.event){jQuery(settings.container).bind("scroll",function(event){var counter=0;elements.each(function(){if(jQuery.abovethetop(this,settings)||jQuery.leftofbegin(this,settings)){}else if(!jQuery.belowthefold(this,settings)&&!jQuery.rightoffold(this,settings)){jQuery(this).trigger("appear");}else{if(counter++>settings.failurelimit){return false;}}
if('function'==typeof settings.callback){settings.callback();}});var temp=jQuery.grep(elements,function(element){return!element.loaded;});elements=jQuery(temp);});}
this.each(function(){var self=this;if(undefined==jQuery(self).attr("data-src")){jQuery(self).attr("data-src",jQuery(self).attr("src"));}
if("scroll"!=settings.event||undefined==jQuery(self).attr("src")||settings.placeholder==jQuery(self).attr("src")||(jQuery.abovethetop(self,settings)||jQuery.leftofbegin(self,settings)||jQuery.belowthefold(self,settings)||jQuery.rightoffold(self,settings))){if(settings.placeholder){jQuery(self).attr("src",settings.placeholder);}else{jQuery(self).removeAttr("src");}
self.loaded=false;}else{self.loaded=true;}
jQuery(self).one("appear",function(){if(!this.loaded){jQuery("<img />").bind("load",function(){jQuery(self).hide().attr("src",jQuery(self).attr("data-src"))
[settings.effect](settings.effectspeed).load(function(){if('function'==typeof settings.callback){settings.callback();}});self.loaded=true;}).attr("src",jQuery(self).attr("data-src"));};});if("scroll"!=settings.event){jQuery(self).bind(settings.event,function(event){if(!self.loaded){jQuery(self).trigger("appear");}});}});jQuery(settings.container).trigger(settings.event);return this;};jQuery.belowthefold=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=jQuery(window).height()+jQuery(window).scrollTop();}else{var fold=jQuery(settings.container).offset().top+jQuery(settings.container).height();}
return fold<=jQuery(element).offset().top-settings.threshold;};jQuery.rightoffold=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=jQuery(window).width()+jQuery(window).scrollLeft();}else{var fold=jQuery(settings.container).offset().left+jQuery(settings.container).width();}
return fold<=jQuery(element).offset().left-settings.threshold;};jQuery.abovethetop=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=jQuery(window).scrollTop();}else{var fold=jQuery(settings.container).offset().top;}
return fold>=jQuery(element).offset().top+settings.threshold+jQuery(element).height();};jQuery.leftofbegin=function(element,settings){if(settings.container===undefined||settings.container===window){var fold=jQuery(window).scrollLeft();}else{var fold=jQuery(settings.container).offset().left;}
return fold>=jQuery(element).offset().left+settings.threshold+jQuery(element).width();};jQuery.extend(jQuery.expr[':'],{"below-the-fold":"jQuery.belowthefold(a, {threshold : 0, container: window})","above-the-fold":"!jQuery.belowthefold(a, {threshold : 0, container: window})","right-of-fold":"jQuery.rightoffold(a, {threshold : 0, container: window})","left-of-fold":"!jQuery.rightoffold(a, {threshold : 0, container: window})"});})(jQuery);
jQuery.fn.bomValidation=function(conf){if(this.is('.jquery-live-validation-on')){return;}
else{this.addClass('jquery-live-validation-on');}
var _self=this;var config=jQuery.extend({valid:'Valid',invalid:'Invalid',validClass:'valid',invalidClass:'invalid',errorClass:'error',isAjax:false,validators:{},validateOnDisplay:false,minWordValidator:2,eventsValidator:'keyup focusout'},conf||{});this.validators=jQuery.extend({'v-carac':/^\s*\S+\s*.*$/m,'v-word':/^(\b[^\s]{2,}\b)\s*$/m,'v-content':/^\s*((\S+)\s+){9,}(\w+|\S+)\s*$/m,'v-dimensions':/^\d+x\d+$/,'v-digit':/^\d+$/,'v-url':/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,'v-email':/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,'v-date-dmY-fr':/^\d{2}\/\d{2}\/(\d{2}|\d{4})$/,'v-date-dmY-de':/^\d{2}\.\d{2}\.(\d{2}|\d{4})$/,'v-date-dmY-en':/^\d{2}\.\d{2}\.(\d{2}|\d{4})$/},config.validators);if(config.minWordValidator)
{if(typeof config.minWordValidator=='object')
{jQuery.each(config.minWordValidator,function(k,v){_self.validators['v-minword'+v]=new RegExp('^\\s*((\\S+)\\s+){'+(parseInt(v,10)-1)+',}(\\w+|\\S+)\\s*$','m');});}
else
{this.validators['v-minword'+config.minWordValidator]=new RegExp('^\\s*((\\S+)\\s+){'+(parseInt(config.minWordValidator,10)-1)+',}(\\w+|\\S+)\\s*$','m');}}
if(config.minCharsValidator){if(typeof config.minCharsValidator=='object')
{jQuery.each(config.minCharsValidator,function(k,v){_self.validators['v-minchars'+v]=new RegExp('^\\s*(\\S+\\s*){'+parseInt(v,10)+',}$','m');});}
else
{this.validators['v-minchars'+config.minCharsValidator]=new RegExp('^\\s*(\\S+\\s*){'+parseInt(config.minCharsValidator,10)+',}$','m');}}
this.fields={};this.required=[];this.init=function(){this.setValidators();};this.submitForm=function(form){var urlForm=form.attr('action'),contentForm=form.serialize();jQuery.ajax({type:'POST',url:urlForm,data:contentForm,context:this,beforeSend:function()
{_self.toggleSubmitButton(false);form.find('.invalid').removeClass('invalid');form.find('.formError').html('');},success:function(response)
{_self.response=response;_self.toggleSubmitButton(true);if(typeof response=='string')
{var parsedResponse=response;try{parsedResponse=jQuery.parseJSON(parsedResponse);}catch(er){}
if(typeof parsedResponse=='object')
response=parsedResponse;}
if((typeof response=='object')&&('success'in response)&&false===response.success)
{if('errors'in response)
{_self.setAjaxErrorMessages(response.errors);}
_self.executeCallbackHandler('error');}
else
{this.executeCallbackHandler('success');}},error:function(response)
{_self.response=response;_self.executeCallbackHandler('error');}});};this.setAjaxErrorMessages=function(errors)
{jQuery.each(errors,function(cssKey,error)
{oForm=jQuery(_self._form);var field=jQuery('.'+cssKey,oForm);var fvalidator=jQuery(field.attr('v-validator'),oForm);var fmsger=jQuery(field.attr('v-msger')?field.attr('v-msger'):'.formError',oForm);fvalidator.removeClass('v-picto-valid').addClass('v-picto-invalid').removeClass('h');fvalidator.attr('alt',config.invalid);field.removeClass(config.validClass).addClass(config.invalidClass);if(fmsger.size())
{fmsger.removeClass('h');if(undefined!=BOM.config.trads[error])
{fmsger.html(BOM.config.trads[error]);}else{fmsger.html(error);}}});}
this.toggleSubmitButton=function(state)
{oForm=jQuery(_self._form);if(true===state)
{jQuery('.v-loader').addClass('h');BOM.User.toggleButton(oForm.find('*[type=submit]'),true);}
else
{BOM.User.toggleButton(oForm.find('*[type=submit]'),false);jQuery('.v-loader').removeClass('h');}}
this.setValidators=function(){jQuery(this).find('.v-required').each(function(){var elm=jQuery(this);var elmName=elm.attr('name');jQuery.each(_self.validators,function(cls,reg){if(elm.hasClass(cls)){_self.fields[elmName]=reg;}});});};this.validateAll=function(){jQuery.each(_self.required,function(){if(this.validate&&typeof this.validate=='function')this.validate();});}
this.executeCallbackHandler=function(cbType){var cbId=_self.attr('v-callback-'+cbType);var ret=true;if(config[cbId]){fun=config[cbId][0];param=config[cbId][1];ret=config[cbId][0].call('',_self,param);}
return ret;}
this.init();this.initFields=function(){jQuery(this).find('.v-required').each(function(){var t=jQuery(this);var isOptional=false;if(t.is('.jquery-live-validation-on')){return;}
else{t.addClass('jquery-live-validation-on');}
var status=isOptional?'valid':'invalid';var validator=jQuery(t.attr('v-validator'),_self);validator=validator.length?validator:jQuery('<span/>',{'class':"picto h"}).insertAfter(t);validator.attr('alt',status);var msger=jQuery(t.attr('v-msger'),_self);var vmsg=t.attr('msg-data');if(vmsg){msger=msger.length?msger:jQuery('<span/>',{'class':"h v-msger "+config.errorClass}).insertAfter(validator);msger.html(vmsg);}
var vEvents=t.attr('v-events')?t.attr('v-events'):config.eventsValidator;var validate=function(){var key=t.attr('name');var val=t.val()||'';var tit=t.attr('title');var type=t.hasClass('v-check')?'check':'val';var id=t.attr('id');val=tit==val?'':val;isOneOfGroupChecked=false;if(t.hasClass('v-group'))
{validators=jQuery('*[name="'+key+'"]');jQuery('*[name="'+key+'"]').each(function(){box=jQuery(this);if(box.is(':checked'))
isOneOfGroupChecked=true;});}
if('check'==type&&t.hasClass('v-group')&&true==isOneOfGroupChecked)
{validators.each(function(){item=jQuery(this);item.removeClass(config.invalidClass).addClass(config.validClass);});if(validator.attr('alt')!=config.valid){validator.removeClass('v-picto-invalid').addClass('v-picto-valid').removeClass('h');validator.attr('alt',config.valid);if(null!=msger)msger.addClass('h');}}
else if('check'==type&&t.is(':checked'))
{if(validator.attr('alt')!=config.valid){validator.removeClass('v-picto-invalid').addClass('v-picto-valid').removeClass('h');validator.attr('alt',config.valid);t.removeClass(config.invalidClass).addClass(config.validClass);if(null!=msger)msger.addClass('h');}}
else if(('val'==type)&&((isOptional&&val=='')||val.match(_self.fields[key]))){if(validator.attr('alt')!=config.valid){validator.removeClass('v-picto-invalid').addClass('v-picto-valid').removeClass('h');validator.attr('alt',config.valid);t.removeClass(config.invalidClass).addClass(config.validClass);if(null!=msger)msger.addClass('h');}}
else{if(typeof id!=='undefined'){$('#'+id).trigger('invalid');}
if(validator.attr('alt')!=config.invalid){validator.removeClass('v-picto-valid').addClass('v-picto-invalid').removeClass('h');validator.attr('alt',config.invalid);t.removeClass(config.validClass).addClass(config.invalidClass);if(null!=msger)msger.removeClass('h');}}
if(t.hasClass('v-match-field')&&t.val()!=''){var regex=new RegExp('v-match-field-','g');var split=t.attr('class').split(regex);split=split[1].split(' ');var matchingField=$('#'+split[0]);if(matchingField!=null){if(matchingField.val()==t.val()){validator.removeClass('v-picto-invalid').addClass('v-picto-valid').removeClass('h');validator.attr('alt',config.valid);matchingField.removeClass(config.invalidClass).addClass(config.validClass);if(null!=msger)msger.addClass('h');}
else{validator.removeClass('v-picto-valid').addClass('v-picto-invalid').removeClass('h');validator.attr('alt',config.invalid);matchingField.removeClass(config.validClass).addClass(config.invalidClass);if(null!=msger)msger.removeClass('h');}}}};if(config.validateOnDisplay)validate();t.bind(vEvents,validate);_self.required.push({'elm':t,'validate':validate});});};this.initFields();jQuery(this).submit(function(){_self.setValidators();_self.initFields();_self._form=this;if(!config.validateOnDisplay)_self.validateAll();var errors=jQuery(this).find('span[alt="'+config.invalid+'"]');if(errors.length){jQuery(this).find('.v-required.invalid').first().focus();}
if(config.isAjax&&!errors.length){_self.submitForm(jQuery(this));return false;}
BOM.User.addLoadingStatusOnElement(jQuery('button',this));codeReturn=true;if(!errors.length)
{var cbReturn=_self.executeCallbackHandler('success');if(false===cbReturn)
codeReturn=false;}
else{codeReturn=false
BOM.User.removeLoadingStatusOnPageButtons();}
return codeReturn;});};jQuery.fn.bomFeedActivity=function(conf){var _self=this;var config=jQuery.extend({delay:3000,showing:2,effect:'fade',effectSpeed:2000,'activityItemSel':'bom-activity-item'},conf||{});this.config=config;this.nbItems=0;var i=0;this.shift=function(){var toShow=(i+config.showing)%_self.nbItems;elmToShow=$('.'+config.activityItemSel+toShow,_self);elmToShow.prependTo(_self);elmToHide=$('.'+config.activityItemSel+i,_self);_self.swapElements(elmToShow,elmToHide);i=(i+1)%_self.nbItems;setTimeout(function(){_self.shift()},config.delay);}
this.swapElements=function(elmToShow,elmToHide)
{prevToElmToHide=elmToHide.prevAll('.'+config.activityItemSel+':visible').first();elmToShow.removeClass('last-item');switch(_self.config.effect){case"fade":elmToShow.fadeIn(_self.config.effectSpeed);elmToHide.remove().css('display','none').prependTo(_self);break;case"slide":elmToShow.slideDown(_self.config.effectSpeed,function(){elmToHide.remove().css('display','none').prependTo(_self);});elmToHide.slideUp(_self.config.effectSpeed)
break;default:}
prevToElmToHide.addClass('last-item');}
this.init=function(){var items=$('.'+config.activityItemSel,_self);_self.nbItems=items.size();items.each(function(i,elm){$(elm).addClass(config.activityItemSel+i);if(i>=config.showing)$(elm).hide().removeClass('h');});if(_self.nbItems>config.showing)
{setTimeout(function(){_self.shift()},config.delay);}}
this.init();};
(function($){var DEFAULT_SETTINGS={method:"GET",queryParam:"q",searchDelay:300,minChars:1,propertyToSearch:"name",jsonContainer:null,contentType:"json",prePopulate:null,processPrePopulate:false,hintText:"Type in a search term",noResultsText:"No results",searchingText:"Searching...",deleteText:"&times;",animateDropdown:true,theme:null,zindex:999,resultsFormatter:function(item){return"<li>"+item[this.propertyToSearch]+"</li>"},tokenFormatter:function(item){return"<li><p>"+item[this.propertyToSearch]+"</p></li>"},tokenLimit:null,tokenDelimiter:",",preventDuplicates:false,highlightDuplicates:true,tokenValue:"id",onResult:null,onAdd:null,onDelete:null,onReady:null,idPrefix:"token-input-",disabled:false,allowCustomEntry:false};var DEFAULT_CLASSES={tokenList:"token-input-list",token:"token-input-token",tokenDelete:"token-input-delete-token",selectedToken:"token-input-selected-token",highlightedToken:"token-input-highlighted-token",dropdown:"token-input-dropdown",dropdownItem:"token-input-dropdown-item",dropdownItem2:"token-input-dropdown-item2",selectedDropdownItem:"token-input-selected-dropdown-item",inputToken:"token-input-input-token",disabled:"token-input-disabled"};var POSITION={BEFORE:0,AFTER:1,END:2};var KEY={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUMPAD_ENTER:108,COMMA:188};var methods={init:function(url_or_data_or_function,options){var settings=$.extend({},DEFAULT_SETTINGS,options||{});return this.each(function(){$(this).data("tokenInputObject",new $.TokenList(this,url_or_data_or_function,settings));});},clear:function(){this.data("tokenInputObject").clear();return this;},add:function(item){this.data("tokenInputObject").add(item);return this;},remove:function(item){this.data("tokenInputObject").remove(item);return this;},get:function(){return this.data("tokenInputObject").getTokens();},toggleDisabled:function(disable){this.data("tokenInputObject").toggleDisabled(disable);return this;}}
$.fn.tokenInput=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1));}else{return methods.init.apply(this,arguments);}};$.TokenList=function(input,url_or_data,settings){if($.type(url_or_data)==="string"||$.type(url_or_data)==="function"){settings.url=url_or_data;var url=computeURL();if(settings.crossDomain===undefined&&typeof url==="string"){if(url.indexOf("://")===-1){settings.crossDomain=false;}else{settings.crossDomain=(location.href.split(/\/+/g)[1]!==url.split(/\/+/g)[1]);}}}else if(typeof(url_or_data)==="object"){settings.local_data=url_or_data;}
if(settings.classes){settings.classes=$.extend({},DEFAULT_CLASSES,settings.classes);}else if(settings.theme){settings.classes={};$.each(DEFAULT_CLASSES,function(key,value){settings.classes[key]=value+"-"+settings.theme;});}else{settings.classes=DEFAULT_CLASSES;}
var saved_tokens=[];var token_count=0;var cache=new $.TokenList.Cache();var timeout;var input_val;var input_box=$("<input type=\"text\"  autocomplete=\"off\">").css({outline:"none"}).attr("id",settings.idPrefix+input.id).focus(function(){if(settings.disabled){return false;}else
if(settings.tokenLimit===null||settings.tokenLimit!==token_count){show_dropdown_hint();}}).blur(function(){hide_dropdown();$(this).val("");}).bind("keyup keydown blur update",resize_input).keydown(function(event){var previous_token;var next_token;switch(event.keyCode){case KEY.LEFT:case KEY.RIGHT:case KEY.UP:case KEY.DOWN:if(!$(this).val()){previous_token=input_token.prev();next_token=input_token.next();if((previous_token.length&&previous_token.get(0)===selected_token)||(next_token.length&&next_token.get(0)===selected_token)){if(event.keyCode===KEY.LEFT||event.keyCode===KEY.UP){deselect_token($(selected_token),POSITION.BEFORE);}else{deselect_token($(selected_token),POSITION.AFTER);}}else if((event.keyCode===KEY.LEFT||event.keyCode===KEY.UP)&&previous_token.length){select_token($(previous_token.get(0)));}else if((event.keyCode===KEY.RIGHT||event.keyCode===KEY.DOWN)&&next_token.length){select_token($(next_token.get(0)));}}else{var dropdown_item=null;if(event.keyCode===KEY.DOWN||event.keyCode===KEY.RIGHT){dropdown_item=$(selected_dropdown_item).next();}else{dropdown_item=$(selected_dropdown_item).prev();}
if(dropdown_item.length){select_dropdown_item(dropdown_item);}}
return false;break;case KEY.BACKSPACE:previous_token=input_token.prev();if(!$(this).val().length){if(selected_token){delete_token($(selected_token));hidden_input.change();}else if(previous_token.length){select_token($(previous_token.get(0)));}
return false;}else if($(this).val().length===1){hide_dropdown();}else{setTimeout(function(){do_search();},5);}
break;case KEY.TAB:case KEY.ENTER:case KEY.NUMPAD_ENTER:if(selected_dropdown_item){return addSelectedToken();}else if(settings.allowCustomEntry){return addCurrentTokenInputValue();}
break;case KEY.COMMA:if(settings.allowCustomEntry){return addCurrentTokenInputValue();}else if(selected_dropdown_item){return addSelectedToken();}
break;case KEY.ESCAPE:hide_dropdown();return true;default:if(String.fromCharCode(event.which)){setTimeout(function(){do_search();},5);}
break;}});function addSelectedToken(){add_token($(selected_dropdown_item).data("tokeninput"));hidden_input.change();return false;};function addCurrentTokenInputValue(){var currentTokenInputItem={"name":$("#"+settings.idPrefix+input.id).val()};add_token(currentTokenInputItem);hidden_input.change();return false;};var hidden_input=$(input).hide().val("").focus(function(){focus_with_timeout(input_box);}).blur(function(){input_box.blur();});var selected_token=null;var selected_token_index=0;var selected_dropdown_item=null;var token_list=$("<ul />").addClass(settings.classes.tokenList).click(function(event){var li=$(event.target).closest("li");if(li&&li.get(0)&&$.data(li.get(0),"tokeninput")){toggle_select_token(li);}else{if(selected_token){deselect_token($(selected_token),POSITION.END);}
focus_with_timeout(input_box);}}).mouseover(function(event){var li=$(event.target).closest("li");if(li&&selected_token!==this){li.addClass(settings.classes.highlightedToken);}}).mouseout(function(event){var li=$(event.target).closest("li");if(li&&selected_token!==this){li.removeClass(settings.classes.highlightedToken);}}).insertBefore(hidden_input);var input_token=$("<li />").addClass(settings.classes.inputToken).appendTo(token_list).append(input_box);var dropdown=$("<div>").addClass(settings.classes.dropdown).appendTo("body").hide();var input_resizer=$("<tester/>").insertAfter(input_box).css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:input_box.css("fontSize"),fontFamily:input_box.css("fontFamily"),fontWeight:input_box.css("fontWeight"),letterSpacing:input_box.css("letterSpacing"),whiteSpace:"nowrap"});hidden_input.val("");var li_data=settings.prePopulate||hidden_input.data("pre");if(settings.processPrePopulate&&$.isFunction(settings.onResult)){li_data=settings.onResult.call(hidden_input,li_data);}
if(li_data&&li_data.length){$.each(li_data,function(index,value){insert_token(value);checkTokenLimit();});}
if(settings.disabled){toggleDisabled(true);}
if($.isFunction(settings.onReady)){settings.onReady.call();}
this.clear=function(){token_list.children("li").each(function(){if($(this).children("input").length===0){delete_token($(this));}});}
this.add=function(item){add_token(item);}
this.remove=function(item){token_list.children("li").each(function(){if($(this).children("input").length===0){var currToken=$(this).data("tokeninput");var match=true;for(var prop in item){if(item[prop]!==currToken[prop]){match=false;break;}}
if(match){delete_token($(this));}}});}
this.getTokens=function(){return saved_tokens;}
this.toggleDisabled=function(disable){toggleDisabled(disable);}
function toggleDisabled(disable){if(typeof disable==='boolean'){settings.disabled=disable}else{settings.disabled=!settings.disabled;}
input_box.prop('disabled',settings.disabled);token_list.toggleClass(settings.classes.disabled,settings.disabled);if(selected_token){deselect_token($(selected_token),POSITION.END);}
hidden_input.prop('disabled',settings.disabled);}
function checkTokenLimit(){if(settings.tokenLimit!==null&&token_count>=settings.tokenLimit){input_box.hide();hide_dropdown();return;}}
function resize_input(){if(input_val===(input_val=input_box.val())){return;}
var escaped=input_val.replace(/&/g,'&amp;').replace(/\s/g,' ').replace(/</g,'&lt;').replace(/>/g,'&gt;');input_resizer.html(escaped);input_box.width(input_resizer.width()+30);}
function is_printable_character(keycode){return((keycode>=48&&keycode<=90)||(keycode>=96&&keycode<=111)||(keycode>=186&&keycode<=192)||(keycode>=219&&keycode<=222));}
function insert_token(item){var this_token=settings.tokenFormatter(item);this_token=$(this_token).addClass(settings.classes.token).insertBefore(input_token);$("<span>"+settings.deleteText+"</span>").addClass(settings.classes.tokenDelete).appendTo(this_token).click(function(){if(!settings.disabled){delete_token($(this).parent());hidden_input.change();return false;}});var token_data=item;$.data(this_token.get(0),"tokeninput",item);saved_tokens=saved_tokens.slice(0,selected_token_index).concat([token_data]).concat(saved_tokens.slice(selected_token_index));selected_token_index++;update_hidden_input(saved_tokens,hidden_input);token_count+=1;if(settings.tokenLimit!==null&&token_count>=settings.tokenLimit){input_box.hide();hide_dropdown();}
return this_token;}
function add_token(item){var callback=settings.onAdd;if(token_count>0&&settings.preventDuplicates){var found_existing_token=null;token_list.children().each(function(){var existing_token=$(this);var existing_data=$.data(existing_token.get(0),"tokeninput");if(existing_data&&existing_data[settings.tokenValue]===item[settings.tokenValue]){found_existing_token=existing_token;return false;}});if(found_existing_token){if(settings.highlightDuplicates){select_token(found_existing_token);input_token.insertAfter(found_existing_token);focus_with_timeout(input_box);}
return;}}
if(settings.tokenLimit==null||token_count<settings.tokenLimit){insert_token(item);checkTokenLimit();}
input_box.val("");hide_dropdown();if($.isFunction(callback)){callback.call(hidden_input,item);}}
function select_token(token){if(!settings.disabled){token.addClass(settings.classes.selectedToken);selected_token=token.get(0);input_box.val("");hide_dropdown();}}
function deselect_token(token,position){token.removeClass(settings.classes.selectedToken);selected_token=null;if(position===POSITION.BEFORE){input_token.insertBefore(token);selected_token_index--;}else if(position===POSITION.AFTER){input_token.insertAfter(token);selected_token_index++;}else{input_token.appendTo(token_list);selected_token_index=token_count;}
focus_with_timeout(input_box);}
function toggle_select_token(token){var previous_selected_token=selected_token;if(selected_token){deselect_token($(selected_token),POSITION.END);}
if(previous_selected_token===token.get(0)){deselect_token(token,POSITION.END);}else{select_token(token);}}
function delete_token(token){var token_data=$.data(token.get(0),"tokeninput");var callback=settings.onDelete;var index=token.prevAll().length;if(index>selected_token_index)index--;token.remove();selected_token=null;focus_with_timeout(input_box);saved_tokens=saved_tokens.slice(0,index).concat(saved_tokens.slice(index+1));if(index<selected_token_index)selected_token_index--;update_hidden_input(saved_tokens,hidden_input);token_count-=1;if(settings.tokenLimit!==null){input_box.show().val("");focus_with_timeout(input_box);}
if($.isFunction(callback)){callback.call(hidden_input,token_data);}}
function update_hidden_input(saved_tokens,hidden_input){var token_values=$.map(saved_tokens,function(el){if(typeof settings.tokenValue=='function')
return settings.tokenValue.call(this,el);return el[settings.tokenValue];});hidden_input.val(token_values.join(settings.tokenDelimiter));}
function hide_dropdown(){dropdown.hide().empty();selected_dropdown_item=null;}
function show_dropdown(){dropdown.css({position:"absolute",top:$(token_list).offset().top+$(token_list).outerHeight(),left:$(token_list).offset().left,width:$(token_list).outerWidth(),'z-index':settings.zindex}).show();}
function show_dropdown_searching(){if(settings.searchingText){dropdown.html("<p>"+settings.searchingText+"</p>");show_dropdown();}}
function show_dropdown_hint(){if(settings.hintText){dropdown.html("<p>"+settings.hintText+"</p>");show_dropdown();}}
function highlight_term(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term+")(?![^<>]*>)(?![^&;]+;)","gi"),"<b>$1</b>");}
function find_value_and_highlight_term(template,value,term){return template.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+value+")(?![^<>]*>)(?![^&;]+;)","g"),highlight_term(value,term));}
function populate_dropdown(query,results){if(results&&results.length){dropdown.empty();var dropdown_ul=$("<ul>").appendTo(dropdown).mouseover(function(event){select_dropdown_item($(event.target).closest("li"));}).mousedown(function(event){add_token($(event.target).closest("li").data("tokeninput"));hidden_input.change();return false;}).hide();$.each(results,function(index,value){var this_li=settings.resultsFormatter(value);this_li=find_value_and_highlight_term(this_li,value[settings.propertyToSearch],query);this_li=$(this_li).appendTo(dropdown_ul);if(index%2){this_li.addClass(settings.classes.dropdownItem);}else{this_li.addClass(settings.classes.dropdownItem2);}
if(index===0){select_dropdown_item(this_li);}
$.data(this_li.get(0),"tokeninput",value);});show_dropdown();if(settings.animateDropdown){dropdown_ul.slideDown("fast");}else{dropdown_ul.show();}}else{if(settings.noResultsText){dropdown.html("<p>"+settings.noResultsText+"</p>");selected_dropdown_item=null;show_dropdown();}}}
function select_dropdown_item(item){if(item){if(selected_dropdown_item){deselect_dropdown_item($(selected_dropdown_item));}
item.addClass(settings.classes.selectedDropdownItem);selected_dropdown_item=item.get(0);}}
function deselect_dropdown_item(item){item.removeClass(settings.classes.selectedDropdownItem);selected_dropdown_item=null;}
function do_search(){var query=input_box.val();if(query&&query.length){if(selected_token){deselect_token($(selected_token),POSITION.AFTER);}
if(query.length>=settings.minChars){show_dropdown_searching();clearTimeout(timeout);timeout=setTimeout(function(){run_search(query);},settings.searchDelay);}else{hide_dropdown();}}}
function run_search(query){var self=this;var cache_key=query+computeURL();var cached_results=cache.get(cache_key);if(cached_results){populate_dropdown(query,cached_results);}else{if(settings.url){var url=computeURL();var ajax_params={};ajax_params.data={};if(url.indexOf("?")>-1){var parts=url.split("?");ajax_params.url=parts[0];var param_array=parts[1].split("&");$.each(param_array,function(index,value){var kv=value.split("=");ajax_params.data[kv[0]]=kv[1];});}else{ajax_params.url=url;}
ajax_params.data[settings.queryParam]=query;ajax_params.type=settings.method;ajax_params.dataType=settings.contentType;if(settings.crossDomain){ajax_params.dataType="jsonp";}
ajax_params.success=function(results){if($.isFunction(settings.onResult)){results=settings.onResult.call(hidden_input,results);}
cache.add(cache_key,settings.jsonContainer?results[settings.jsonContainer]:results);if(input_box.val()===query){populate_dropdown(query,settings.jsonContainer?results[settings.jsonContainer]:results);}};if(typeof self.currentSearchRequest!=="undefined"){self.currentSearchRequest.abort();}
self.currentSearchRequest=$.ajax(ajax_params);}else if(settings.local_data){var results=$.grep(settings.local_data,function(row){return row[settings.propertyToSearch].toLowerCase().indexOf(query.toLowerCase())>-1;});if($.isFunction(settings.onResult)){results=settings.onResult.call(hidden_input,results);}
cache.add(cache_key,results);populate_dropdown(query,results);}}}
function computeURL(){var url=settings.url;if(typeof settings.url=='function'){url=settings.url.call(settings);}
return url;}
function focus_with_timeout(obj){setTimeout(function(){obj.focus();},50);}};$.TokenList.Cache=function(options){var settings=$.extend({max_size:500},options);var data={};var size=0;var flush=function(){data={};size=0;};this.add=function(query,results){if(size>settings.max_size){flush();}
if(!data[query]){size+=1;}
data[query]=results;};this.get=function(query){return data[query];};};}(jQuery));
(function($){$.fn.hoverIntent=function(f,g){var cfg={sensitivity:7,interval:100,timeout:0};cfg=$.extend(cfg,g?{over:f,out:g}:f);var cX,cY,pX,pY;var track=function(ev){cX=ev.pageX;cY=ev.pageY;};var compare=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);if((Math.abs(pX-cX)+Math.abs(pY-cY))<cfg.sensitivity){$(ob).unbind("mousemove",track);ob.hoverIntent_s=1;return cfg.over.apply(ob,[ev]);}else{pX=cX;pY=cY;ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}};var delay=function(ev,ob){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);ob.hoverIntent_s=0;return cfg.out.apply(ob,[ev]);};var handleHover=function(e){var ev=jQuery.extend({},e);var ob=this;if(ob.hoverIntent_t){ob.hoverIntent_t=clearTimeout(ob.hoverIntent_t);}
if(e.type=="mouseenter"){pX=ev.pageX;pY=ev.pageY;$(ob).bind("mousemove",track);if(ob.hoverIntent_s!=1){ob.hoverIntent_t=setTimeout(function(){compare(ev,ob);},cfg.interval);}}else{$(ob).unbind("mousemove",track);if(ob.hoverIntent_s==1){ob.hoverIntent_t=setTimeout(function(){delay(ev,ob);},cfg.timeout);}}};return this.bind('mouseenter',handleHover).bind('mouseleave',handleHover);};})(jQuery);
(function($){jQuery.fn.extend({elastic:function(conf){var settings={'compactTextareaOnBlur':conf.compactTextareaOnBlur};var mimics=['paddingTop','paddingRight','paddingBottom','paddingLeft','fontSize','lineHeight','fontFamily','width','fontWeight','border-top-width','border-right-width','border-bottom-width','border-left-width','borderTopStyle','borderTopColor','borderRightStyle','borderRightColor','borderBottomStyle','borderBottomColor','borderLeftStyle','borderLeftColor'];return this.each(function(){if(this.type!=='textarea'){return false;}
var $textarea=jQuery(this),$twin=jQuery('<div />').css({'position':'absolute','display':'none','word-wrap':'break-word','white-space':'pre-wrap'}),lineHeight=parseInt($textarea.css('line-height'),10)||parseInt($textarea.css('font-size'),'10'),minheight=parseInt($textarea.css('height'),10)||lineHeight*3,maxheight=parseInt($textarea.css('max-height'),10)||Number.MAX_VALUE,goalheight=0;if(maxheight<0){maxheight=Number.MAX_VALUE;}
$twin.appendTo($textarea.parent());var i=mimics.length;while(i--){$twin.css(mimics[i].toString(),$textarea.css(mimics[i].toString()));}
function setTwinWidth(){var curatedWidth=Math.floor(parseInt($textarea.width(),10));if($twin.width()!==curatedWidth){$twin.css({'width':curatedWidth+'px'});update(true);}}
function setHeightAndOverflow(height,overflow){var curratedHeight=Math.floor(parseInt(height,10));if($textarea.height()!==curratedHeight){$textarea.css({'height':curratedHeight+'px','overflow':overflow});}}
function update(forced){var textareaContent=$textarea.val().replace(/&/g,'&amp;').replace(/ {2}/g,'&nbsp;').replace(/<|>/g,'&gt;').replace(/\n/g,'<br />');var twinContent=$twin.html().replace(/<br>/ig,'<br />');if(forced||textareaContent+'&nbsp;'!==twinContent){$twin.html(textareaContent+'&nbsp;');if(Math.abs($twin.height()+lineHeight-$textarea.height())>3){var goalheight=$twin.height()+lineHeight;if(goalheight>=maxheight){setHeightAndOverflow(maxheight,'auto');}else if(goalheight<=minheight){setHeightAndOverflow(minheight,'hidden');}else{setHeightAndOverflow(goalheight,'hidden');}}}}
$textarea.css({'overflow':'hidden'});$textarea.bind('keyup change cut paste',function(){update();});$(window).bind('resize',setTwinWidth);$textarea.bind('resize',setTwinWidth);$textarea.bind('update',update);if(settings.compactTextareaOnBlur==true){$textarea.bind('blur',function(){if($twin.height()<maxheight){if($twin.height()>minheight){$textarea.height($twin.height());}else{$textarea.height(minheight);}}});}
$textarea.bind('input paste',function(e){setTimeout(update,250);});update();});}});})(jQuery);
(function($){"use strict";$.extend({placeholder:{settings:{focusClass:'placeholderFocus',activeClass:'placeholder',overrideSupport:false,preventRefreshIssues:true}}});$.support.placeholder='placeholder'in document.createElement('input');$.fn.plVal=$.fn.val;$.fn.val=function(value){if(this[0]){var el=$(this[0]);if(value!==undefined)
{var currentValue=el.plVal();var returnValue=$(this).plVal(value);if(el.hasClass($.placeholder.settings.activeClass)&&currentValue===el.attr('placeholder')){el.removeClass($.placeholder.settings.activeClass);}
return returnValue;}
if(el.hasClass($.placeholder.settings.activeClass)&&el.plVal()===el.attr('placeholder')){return'';}else{return el.plVal();}}
return undefined;};$(window).bind('beforeunload.placeholder',function(){var els=$('input.'+$.placeholder.settings.activeClass);if(els.length>0){els.val('').attr('autocomplete','off');}});$.fn.placeholder=function(opts){opts=$.extend({},$.placeholder.settings,opts);if(!opts.overrideSupport&&$.support.placeholder){return this;}
return this.each(function(){var $el=$(this);$el.displayLabelForPassword=function(parentSection){parentSection.addClass('positionRelative');$('label',parentSection).click(function(){$('input',$(this).parent()).focus();}).removeClass('h');};if(!$el.is('[placeholder]')){return;}
if($el.is(':password')){$el.attr('placeholder','');$el.displayLabelForPassword($el.parent());}
if(opts.preventRefreshIssues){$el.attr('autocomplete','off');}
$el.bind('focus.placeholder',function(){var $el=$(this);if(this.value===$el.attr('placeholder')&&$el.hasClass(opts.activeClass)){$el.val('');if($el.is(':password')){$('label',$el.parent()).addClass('h');}
$el.removeClass(opts.activeClass).addClass(opts.focusClass);}});$el.bind('blur.placeholder',function(){var $el=$(this);$el.removeClass(opts.focusClass);if(this.value===''){if($el.is(':password')){$('label',$el.parent()).removeClass('h');}else{$el.val($el.attr('placeholder'));}
$el.addClass(opts.activeClass);}});$el.triggerHandler('blur');$el.parents('form').submit(function(){$el.triggerHandler('focus.placeholder');});});};}(jQuery));
jQuery('html').addClass('js');if(typeof BOM=="undefined"||!BOM){var BOM={};}
BOM.config=BOM.config?BOM.config:{"enabledModules":[],"trads":{}};if(!jQuery.generateId){jQuery.generateId=function(){return arguments.callee.prefix+arguments.callee.count++;};jQuery.generateId.prefix='bomObj';jQuery.generateId.count=0;jQuery.fn.generateId=function(){return this.each(function(){this.id=jQuery.generateId();});};};BOM.namespace=function(){var a=arguments,o=null,i,j,d;for(i=0;i<a.length;i=i+1){d=(""+a[i]).split(".");o=BOM;for(j=(d[0]=="BOM")?1:0;j<d.length;j=j+1){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}
return o;};BOM.UI={'oTabs':[],'oCarousels':[],'oDropdowns':[],'oToggleLayerCtls':[],'oDialog':[]};BOM.config.culture='en';BOM.namespace('BOM.User','BOM.AjaxDialog','BOM.AjaxDialogLogin','BOM.Utils','BOM.Toggle','BOM.BBCodeEditor','BOM.Markitup','BOM.SyntaxHighlighter','BOM.Forum','BOM.TechSupport','BOM.Spellchecker','BOM.Moderation','BOM.Xiti','BOM.Widget');BOM.Utils=function(){};jQuery('html').addClass('js');if(typeof BOM=="undefined"||!BOM){var BOM={};}
BOM.config=BOM.config?BOM.config:{"enabledModules":[],"trads":{}};if(!jQuery.generateId){jQuery.generateId=function(){return arguments.callee.prefix+arguments.callee.count++;};jQuery.generateId.prefix='bomObj';jQuery.generateId.count=0;jQuery.fn.generateId=function(){return this.each(function(){this.id=jQuery.generateId();});};};BOM.namespace=function(){var a=arguments,o=null,i,j,d;for(i=0;i<a.length;i=i+1){d=(""+a[i]).split(".");o=BOM;for(j=(d[0]=="BOM")?1:0;j<d.length;j=j+1){o[d[j]]=o[d[j]]||{};o=o[d[j]];}}
return o;};BOM.UI={'oTabs':[],'oCarousels':[],'oDropdowns':[],'oToggleLayerCtls':[],'oDialog':[]};BOM.config.culture='en';BOM.namespace('BOM.User','BOM.AjaxDialog','BOM.AjaxDialogLogin','BOM.Utils','BOM.Toggle','BOM.BBCodeEditor','BOM.Markitup','BOM.SyntaxHighlighter','BOM.Forum','BOM.TechSupport','BOM.Spellchecker','BOM.Moderation');BOM.Utils=function(){};BOM.Utils.beaconLoaded=function(beaconName){if(beaconName){switch(beaconName){case'vibrant':if(jQuery('#beaconTwenga').length>0){jQuery.getScript("http://wtpn.twenga.com/Publisher/invoke?key=4e8cc0b3914a7",function(){affinitAD.replace();BOM.Utils.beaconLoaded('twenga');});}
break;default:break;}
if('prod'!=BOM.config.env&&typeof console!=='undefined'&&typeof console.log!=='undefined')
{console.log('beacon: '+beaconName);}}};BOM.Utils.trackPage=function(type,account,page){if(account==undefined)return false;if(page==undefined)page=location.href;switch(type){case'google':if(typeof(account)=='string'){_gaq.push(['_setAccount',account]);_gaq.push(['_trackPageview',page]);}else{for(var i=0;i<account.length;i++){_gaq.push(['_setAccount',account[i]]);_gaq.push(['_trackPageview',page]);}}
break;default:break;}
return true;};BOM.Utils.bwsr=function(){var bwsr='';if(jQuery.browser.msie){bwsr='ie'+jQuery.browser.version.substr(0,1);}
if(jQuery.browser.mozilla){bwsr='ff';};if(jQuery.browser.webkit){bwsr='webkit';if((navigator.userAgent.indexOf('iPhone')!=-1))bwsr+=' iphone';if((navigator.userAgent.indexOf('iPod')!=-1))bwsr+=' ipod';if((navigator.userAgent.indexOf('iPad')!=-1))bwsr+=' ipad';};if(jQuery.browser.opera){bwsr='opera';};return bwsr;};BOM.Utils.userAgent=navigator.userAgent;jQuery('html').addClass(BOM.Utils.bwsr);jQuery(document).bind('taberize',function(e,oConf){var oElt=jQuery(e.target);BOM.UI.oTabs[e.target.id]=oElt.tabs(oConf);if(oConf['iSelected']!='undefined'){BOM.UI.oTabs[e.target.id].iSelected=oConf.iSelected;}
if(oConf.decode!='undefined'){var aLinks=jQuery('.crLink',oElt);for(var i=aLinks.length-1;i>=0;i--){if(typeof(aLinks[i].onmouseover)=='function'){aLinks[i].onmouseover();}
var item=jQuery(aLinks[i]);item.click(BOM.UI.selectTab,item);};}});BOM.UI.selectTab=function(e,ui)
{var url=e.currentTarget.href||jQuery.data(ui.tab,'load.tabs');if(url)
{location.href=url;return false;}
if(BOM.UI.oTabs['navMenu'].iSelected!='undefined'){var oTab=BOM.UI.oTabs['navMenu'];var idx=BOM.UI.oTabs['navMenu'].iSelected;if(idx>=0){jQuery(oTab.data().tabs.lis[idx]).removeClass('active');BOM.UI.oTabs['navMenu'].tabs('option','fx',{"opacity":"toggle","duration":200});if(ui.index==oTab.data().tabs.options.selected){BOM.UI.oTabs['navMenu'].tabs('option','fx',{"height":"toggle","duration":200});jQuery(oTab.data().tabs.lis[idx]).addClass('active');};}}
return true;};BOM.UI.selectTab2=function(e,ui)
{var url=e.currentTarget.href||jQuery.data(ui.tab,'load.tabs');if(url)
{location.href=url;return false;}
return true;};jQuery(document).bind('carouselize',function(e,oConf){var oElt=jQuery(e.target);BOM.UI.oCarousels[e.target.id]=oElt.carousel(oConf);});jQuery(document).bind('dropdownize',function(e,oConf){var oElt=jQuery(e.target);oConf=jQuery.extend({'oElt':oElt},oConf||{});BOM.UI.oDropdowns[e.target.id]=new BOM.Utils.dropDownize(oConf);});jQuery(document).bind('toglayerize',function(e,oConf){var oElt=jQuery(e.target);oConf=jQuery.extend({'oElt':oElt},oConf||{});BOM.UI.oToggleLayerCtls[e.target.id]=new BOM.Utils.toggleLayerCtl(oConf);});BOM.Utils.datePickerize=function(oConf,datePickerOpts)
{var self=this;this.config=jQuery.extend({},oConf||{});datePickerOpts=jQuery.extend({},datePickerOpts||{});this.instanciate=function()
{if(this.config.event=='ready')
{jQuery(this.config.inputClass).datepicker(datePickerOpts);}
else
{jQuery(this.config.inputClass).live(this.config.event,function(e)
{jQuery(e.target).datepicker(datePickerOpts);});}};this.init=function()
{if("undefined"==typeof jQuery.datepicker){var localeFile='js/ui/'+'datepicker'+'.js',pathToFile=BOM.config.assets+localeFile;jQuery.getScript(pathToFile,function(data,textStatus){if(undefined===$.datepicker.regional[BOM.config.culture])
{var localeFile='js/i18n/'+'jquery.ui.datepicker-'+BOM.config.culture+'.js',pathToFile=BOM.config.assets+localeFile;jQuery.getScript(pathToFile,function(){self.instanciate();});}});}else{this.instanciate();}};this.init();};BOM.Utils.pageRankDatePickerize=function(oConf)
{var self=this;self.month=self.selectedMonth=oConf.opts.currentMonth;self.year=self.selectedYear=oConf.opts.currentYear;oConf=jQuery.extend({},oConf||{});var datePickerOpts=jQuery.extend({defaultDate:"01/"+oConf.opts.currentMonth+"/"+oConf.opts.currentYear,maxDate:"+0M",showButtonPanel:true,onClose:function(dateText,inst){if(self.selectedMonth!=self.month||self.selectedYear!=self.year)
{var pageRankUrl=BOM.Utils.decode(oConf.opts.callbackUrl);pageRankUrl+='?month='+self.month;pageRankUrl+='&year='+self.year;pageRankUrl+='&category_id='+oConf.opts.catId;window.location=pageRankUrl;}},onChangeMonthYear:function(year,month,inst)
{self.month=month;self.year=year;}},oConf.opts||{});jQuery(oConf.trigger).click(function(){$(oConf.inputClass).focus();});BOM.Utils.datePickerize(oConf,datePickerOpts);}
BOM.AjaxDialog=function(oConf,options)
{if(jQuery("div#modalDialog").length!=0)
{jQuery("div#modalDialog").remove();}
var targetElm=jQuery('<div/>',{'id':'modalDialog'});targetElm.appendTo('body');jQuery.each(oConf.trigger,function(index,triggerItem){triggerElm=(0<jQuery('#'+triggerItem).length)?jQuery('#'+triggerItem):jQuery('.'+triggerItem);triggerElm.live('click',function(e)
{if(triggerElm.attr('rel'))
{var reloadUrl=triggerElm.attr('rel');}
targetElm.load(jQuery(e.target).attr('href'),function(response,textStatus,XMLHttpRequest)
{if(XMLHttpRequest.getResponseHeader("content-type")=='application/json; charset=utf-8')
{response=jQuery.parseJSON(response);if(false==response.success)
{document.location.href=reloadUrl;return false;}}
else
{targetElm.html(response);options=jQuery.extend({width:450,height:'auto',minHeight:false,dialogClass:'modalDefault',modal:true,resizable:false,finalUrl:triggerElm.attr('rel'),close:function()
{BOM.UI.oDialog.pop();var modale=jQuery(this);jQuery('.btAjaxSubmit, .bomdialog-follow, a, button').die('click');jQuery(modale).remove();}},options||{});options=jQuery.extend({open:function()
{var modale=jQuery(this);jQuery(modale).find('.closeModal').live('click',function(e){e.preventDefault();jQuery(modale).dialog('close');});},close:function()
{var modale=jQuery(this);jQuery('.btAjaxSubmit, .bomdialog-follow').die('click');BOM.UI.oDialog.pop();jQuery(modale).remove();}},options||{});if(oConf.ajaxForm)
{options=jQuery.extend({open:function()
{var modale=jQuery(this);var form=jQuery(this).children('form');jQuery(form).bind('submit',function(e){e.preventDefault();var urlForm=jQuery(e.target).attr('action');jQuery.ajax({type:'POST',url:urlForm,data:jQuery(e.target).serialize(),success:function(response,XMLHttpRequest)
{if(true===response.success&&options.finalUrl!=='')
{document.location.href=options.finalUrl;}
else
{jQuery(modale).html(e);}}});});},close:function()
{var modale=jQuery(this);jQuery('.btAjaxSubmit, .bomdialog-follow').die('click');BOM.UI.oDialog.pop();jQuery(modale).remove();}},options||{});}
targetElm.dialog(options);BOM.UI.oDialog.push(targetElm);}});return false;});return true;});jQuery('.ui-widget-overlay').live('click',function()
{jQuery(BOM.UI.oDialog[0]).dialog('close');});};BOM.AjaxDialogLogin=function(target){var loginField=jQuery('#myLogin_login');var pwField=jQuery('#myLogin_mdp');var submitBt=jQuery('.submitForm');var actionForm=jQuery('#connexion').attr('action');function doError(e){e.addClass('fieldNotOK').removeClass('fieldOK');}
function doSuccess(e){e.addClass('fieldOK').removeClass('fieldNotOK');}
function checkFieldSize(o,size){o.focusin(function(){if(jQuery(this).val().length<size){doError(jQuery(this));}});o.focusout(function(){if(jQuery(this).val().length>=size){doSuccess(jQuery(this));}});o.keyup(function(){if(jQuery(this).val().length>=size){doSuccess(jQuery(this));}else{doError(jQuery(this));}});}
target.bind('dialogopen',function(event,ui){checkFieldSize(pwField,6);submitBt.click(function(){jQuery.ajax({url:actionForm,type:'POST',data:{'login':loginField.val(),'mdp':pwField.val(),'action':'login_action','r':window.location.href}});});});};BOM.Utils.utf8Encode=function(string){string=string.replace(/\r\n/g,"\n");var utftext="";for(var n=0;n<string.length;n++){var c=string.charCodeAt(n);if(c<128){utftext+=String.fromCharCode(c);}
else if((c>127)&&(c<2048)){utftext+=String.fromCharCode((c>>6)|192);utftext+=String.fromCharCode((c&63)|128);}
else{utftext+=String.fromCharCode((c>>12)|224);utftext+=String.fromCharCode(((c>>6)&63)|128);utftext+=String.fromCharCode((c&63)|128);}}
return utftext;};BOM.Utils.encode=function(input){var _keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var output="";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var i=0;input=BOM.Utils.utf8Encode(input);while(i<input.length){chr1=input.charCodeAt(i++);chr2=input.charCodeAt(i++);chr3=input.charCodeAt(i++);enc1=chr1>>2;enc2=((chr1&3)<<4)|(chr2>>4);enc3=((chr2&15)<<2)|(chr3>>6);enc4=chr3&63;if(isNaN(chr2)){enc3=enc4=64;}else if(isNaN(chr3)){enc4=64;}
output=output+
_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+
_keyStr.charAt(enc3)+_keyStr.charAt(enc4);}
return output;};BOM.Utils.decode=function(sBase64){if((sBase64===undefined)||(sBase64=="")){return"";}
var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var chr1,chr2,chr3,enc1,enc2,enc3,enc4;var output="";var i=0;sBase64=sBase64.replace(/-/g,"+").replace(/_/g,"=").replace(/\./g,"/");if(sBase64.match("/[^A-Za-z0-9+\\/=]/")){return"";}
do{enc1=keyStr.indexOf(sBase64.charAt(i++));enc2=keyStr.indexOf(sBase64.charAt(i++));enc3=keyStr.indexOf(sBase64.charAt(i++));enc4=keyStr.indexOf(sBase64.charAt(i++));chr1=(enc1<<2)|(enc2>>4);chr2=((enc2&15)<<4)|(enc3>>2);chr3=((enc3&3)<<6)|enc4;output+=String.fromCharCode(chr1);if(enc3!=64){output+=String.fromCharCode(chr2);}
if(enc4!=64){output+=String.fromCharCode(chr3);}
chr1=chr2=chr3=enc1=enc2=enc3=enc4="";}
while(i<sBase64.length);output=output.replace(/&amp;/gi,"&");return output;};BOM.Utils.go=function(sUrl,bOpenInPopup,bEncoded){sUrl=((typeof(bEncoded)=='undefined')||bEncoded==true)?BOM.Utils.decode(sUrl):sUrl;if(bOpenInPopup){var op="scrollbars=yes,toolbar=yes,location=yes,directories=yes,menubar=yes,resizable=yes,status=yes,width=960,height=600";window.open(sUrl,"",op);}else{window.location.href=sUrl;}};BOM.Utils.decodeLive=function(sUrl,elm){sUrl=BOM.Utils.decode(sUrl);var elt=jQuery(elm);if(elt.attr('hash')){sUrl+=elt.attr('hash');}
elt.attr('href',sUrl);elt.removeAttr('onmouseover');};BOM.config.assets=BOM.Utils.decode('aHR0cDovL20uYmVzdG9mbWVkaWEuY29tL3NmcC8=');BOM.Utils.templating=new function(){var cache={};this.init=function(el,userConfig){this.cache={};};this.render=function(str,data){var fn=!(/\W/.test(str))?cache[str]=cache[str]||this.render(document.getElementById(str).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};"+"with(obj){p.push('"+
str.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")
+"');}return p.join('');");return data?fn(data):fn;};}();BOM.Utils.NewPager=function(oConf){new BOM.Utils.Pager(oConf);};BOM.Utils.Pager=function(oConf){oConf=jQuery.extend({'id':'pager0'},oConf||{});var pActive=jQuery('#'+oConf.id+' .active'),pButt=jQuery('#'+oConf.id+' .more'),pLayer=jQuery('#'+oConf.id+' .layer'),pLayerArrow=jQuery('#'+oConf.id+' .layerArrow'),pButtArrow=jQuery('#'+oConf.id+' .more .picto');var _self=this;this._collapsed=true;this._toggling=false;pButt.bind('mouseenter click',jQuery.proxy(function(e){if(e.type=='mouseenter'&&this._collapsed&&!this._toggling)
{this.toggleLayer();}
if(e.type=='click'&&!this._toggling)
{this.toggleLayer();}},_self));pLayer.mouseleave(jQuery.proxy(function(e){if(!this._collapsed)
{this.toggleLayer();}},this));this.toggleLayer=function(){this._toggling=true;pLayer.slideToggle('',function(){pLayerArrow.toggle();pButtArrow.toggleClass("up");_self._collapsed=!_self._collapsed;_self._toggling=false;});};};BOM.Utils.toggleLayerCtl=function(e)
{e.preventDefault();togCtlElm=jQuery(e.target).hasClass('togLayerCtl')?jQuery(e.target):jQuery(e.target).parents('.togLayerCtl');togLayerElm=togCtlElm.parent().next();togCtlElm.toggleClass("toggled");if(togCtlElm.parent().hasClass('toggler')){togCtlElm.parent().toggleClass('bgg2');jQuery('.moreDialog-dialog').remove();}
togLayerElm.slideToggle(300,function(){togCtlElm.children('.picto').toggleClass("collapse");});return false;};jQuery('.togLayerCtl').live('click',BOM.Utils.toggleLayerCtl);BOM.Utils.moreDialog=function()
{var self=this;self.init=function()
{self.trigger=jQuery('.moreDialog-trigger');$(self.trigger).live('click',function(e){e.preventDefault();self.closeBtText=jQuery.trim(jQuery(e.currentTarget).text());self.dialogOptions={'width':'auto','dialogClass':'moreDialog-dialog','closeText':'',open:function()
{self.closeBt=jQuery('<a>',{'class':'moreDialog moreDialog-close ib','text':self.closeBtText}).append(jQuery('<span>',{'class':'picto pictoUp'}));$('.moreDialog-close').live('click',function(){jQuery.data(self.closeBt,'modale').dialog('close');});self.closeBtTarget=jQuery(self.layer).prev('.ui-dialog-titlebar');jQuery.data(self.closeBt,'modale',jQuery(self.layer));self.closeBt.appendTo(self.closeBtTarget);},close:function()
{self.cleanup(self.layer);}};self.cleanup('.'+self.dialogOptions.dialogClass);self.builder(e);});};self.cleanup=function(elm)
{$(elm).dialog('destroy');$(elm).remove();};self.builder=function(e)
{if($('.moreDialog-layer').length>0)
{self.cleanup($('.moreDialog-layer'));}
self.layer=jQuery('<div>',{'class':'moreDialog-layer'}).append(jQuery('<div>',{'class':'moreDialog-content'}));var position=$(e.currentTarget).offset();jQuery(self.layer).dialog(self.dialogOptions);jQuery(self.layer).parent().css({left:position['left']-6,top:position['top']-5});self.content=jQuery(self.layer).find(":nth-child(1)");self.content.addClass('ajaxLoader');self.updater(e);};self.updater=function(e)
{var urlAjax=BOM.Utils.decode($(e.currentTarget).attr('rel'));jQuery.ajax({url:urlAjax,success:function(xhr)
{self.content.removeClass('ajaxLoader').html(xhr);}});};self.init();};BOM.Utils.toggleMoreListItem=function(e)
{e.preventDefault();var togCtlElm=$(e.target).closest('.togMoreCtl');var text=togCtlElm.html();togCtlElm.parents('li').siblings('.togMore').toggleClass('h');togCtlElm.html(togCtlElm.attr('tog'));togCtlElm.attr('tog',text);togCtlElm.siblings('.togMoreCtl-picto').toggleClass('togMoreCtl-picto-up');return false;};jQuery('.togMoreCtl').live('click',BOM.Utils.toggleMoreListItem);BOM.Utils.dropDownize=function(options){this.config=jQuery.extend({collapseOnLeave:true,expandOnOver:false,slideDuration:300},options||{});this.dropdown=options.oElt;this.select=jQuery('#'+this.dropdown[0].id+' .select');this.dropper=jQuery('#'+this.dropdown[0].id+' .dropper');this.menu=jQuery('#'+this.dropdown[0].id+' ul');this._collapsed=true;this.init=function(){this.select.click(jQuery.proxy(function(e){jQuery.proxy(this.toggle(),this);},this));this.menu.css('top',(this.select.outerHeight()+this.select.position().top-parseInt(this.select.css('borderBottomWidth'))));if(this.config.collapseOnLeave){this.dropdown.mouseleave(jQuery.proxy(function(e){if(!this._collapsed){jQuery.proxy(this.toggle(),this);}},this));}
if(this.config.expandOnOver){this.select.mouseover(jQuery.proxy(function(e){if(this._collapsed){jQuery.proxy(this.toggle(),this);}},this));}};this.toggle=function(){this.menu.slideToggle(this.config.slideDuration);this._collapsed=!this._collapsed;};this.init();};BOM.Utils.popDropDown=function(options)
{this.config=jQuery.extend({'selPopTrigger':'.dropDownTrigger','selPopLayer':'.dropDownLayer','event':'click','popdown':'auto','popdownTimer':3000},options||{});this.init=function()
{if(0<jQuery(this.config.selPopTrigger).length)
{jQuery(this.config.selPopTrigger).bind(this.config.event,jQuery.proxy(function(e)
{if('auto'==this.config.popdown)
{jQuery.proxy(this.popUpDown(e),this);e.stopPropagation();}
e.preventDefault();return false;},this));}};this.popUpDown=function(e)
{var pddRoot=jQuery(e.target).closest(this.config.selPopTrigger);jQuery(pddRoot.children(this.config.selPopLayer)).toggle().delay(this.config.popdownTimer).fadeOut(600);return false;};this.init();};BOM.Utils.toolTip=function(options)
{this.config=jQuery.extend({'trigger':'.tTipTrigger','layer':'','event':'focusin','timer':3000,'fadeTimer':600,'offsetTop':0,'offsetLeft':0,'showOnClass':'','autoHide':true},options||{});var _self=this;this.init=function()
{this.bindTriggers();jQuery('.infoTip').each(function(){var layer=jQuery(this);if(!layer.hasClass('tooltip-on'))
{layer.addClass('tooltip-on').appendTo(jQuery('body'));}});}
this.onTrigger=function(e)
{this.toolTipShow(e.currentTarget);e.stopPropagation();};this.bindTriggers=function()
{jQuery(_self.config.trigger).each(function(){var trigger=jQuery(this);if(!trigger.hasClass('tooltip-on'))
{trigger.addClass('tooltip-on').bind(_self.config.event,jQuery.proxy(_self,'onTrigger'));}
if(false==_self.config.autoHide)
{trigger.bind('mouseout',jQuery.proxy(_self,'tooltipHide'));}});};this.tooltipHide=function(e)
{elm=jQuery(e.currentTarget);var layer=elm.data('toolTipLayer');if(!layer.is(':visible'))
return;layer.hide();e.stopPropagation();}
this.toolTipShow=function(el)
{elm=jQuery(el);if(this.config.showOnClass&&!(elm.hasClass(this.config.showOnClass)||elm.children().hasClass(this.config.showOnClass)))
return;var layer=elm.data('toolTipLayer');if(!layer)
{layer=this.config.layer?jQuery(this.config.layer):jQuery('.'+elm.attr('id')+'-tTipLayer');elm.data('toolTipLayer',layer);}
if(layer.is(':visible'))
return;var layerPos=elm.data('layerPos');if(!layerPos){layerPos=elm.offset();var elmW=elm.outerWidth();var elmH=elm.outerHeight();var layerW=layer.outerWidth();var layerH=layer.outerHeight();switch(true)
{case layer.hasClass('infoTipLT'):layerPos.left+=elmW+this.config.offsetLeft;break;case layer.hasClass('infoTipLB'):layerPos.left+=elmW+this.config.offsetLeft;layerPos.top+=-layerH+elmH;break;case layer.hasClass('infoTipRT'):layerPos.left+=-layerW-this.config.offsetLeft;break;case layer.hasClass('infoTipRB'):layerPos.left+=-layerW-this.config.offsetLeft;layerPos.top+=-layerH+elmH;break;case layer.hasClass('infoTipBL'):layerPos.top+=-layerH-this.config.offsetTop;break;case layer.hasClass('infoTipBR'):layerPos.left+=elmW-layerW;layerPos.top+=-layerH-this.config.offsetTop;break;case layer.hasClass('infoTipTL'):layerPos.top+=elmH+this.config.offsetTop;break;case layer.hasClass('infoTipTR'):layerPos.left+=elmW-layerW;layerPos.top+=elmH+this.config.offsetTop;break;}
elm.data('layerPos',layerPos);}
layer.css(layerPos).toggle();if(true==_self.config.autoHide)
{layer.delay(this.config.timer).fadeOut(this.config.fadeTimer);}
return false;};this.init();};jQuery("#tsb").live('mouseenter mouseleave',function(e){if(e.type=='mouseenter')
{jQuery("#tsb").tabs("rotate",0,true);}else{jQuery("#tsb").tabs("rotate",5000,true);}});BOM.Utils.clearInputTxt=function(e)
{var elt=jQuery(e.target);if(e.type=='focusout')
{if(elt.val()==''){elt.val(elt.data().saved);}else{elt.data('saved',elt.val());}}else{if(elt.data('saved')==null){elt.val('');}};};jQuery('.inputTxt, .inputText2').live('focusin blur',BOM.Utils.clearInputTxt);jQuery('#ftNLForm').live('submit',function(e){e.preventDefault();e.stopPropagation();var sForm=jQuery(e.target).serialize();var msg=jQuery('#ftMsg');if(!msg.length){msg=jQuery('<div/>',{id:"ftMsg"});jQuery(this).append(msg);};jQuery.post(jQuery(this).attr('action'),jQuery(e.target).serialize(),function(data){msg.html(data.message);options={width:350,dialogClass:'modalDefault',modal:true,resizable:false,buttons:{Ok:function(){jQuery(this).dialog('close');}}};msg.dialog(options);});});BOM.Utils.AjaxCompleter=function(oConf)
{var self=this;this.init=function()
{self.oConf=jQuery.extend({trigger:'.ajaxAutocomplete-field',target:'.ajaxAutocomplete-listing'},oConf||{});jQuery(self.oConf.trigger).parent('form').bind('submit',function(e){e.preventDefault();});jQuery(self.oConf.trigger).bind('keyup',function(e)
{self.updater(e);});};this.updater=function(e)
{var urlForm=$(e.target).parent('form').attr('action');jQuery.ajax({type:'POST',url:urlForm,timeout:3000,data:$(e.target).parent('form').serialize(),success:function(xhr)
{self.builder(xhr);}});};this.builder=function(xhr)
{jQuery(self.oConf.target).html($(xhr).find('.ajaxAutocomplete-listing'));};this.init();};BOM.Utils.addthisLz=function(oConf)
{var self=this,url=BOM.Utils.decode(oConf.url),services=oConf.services;self.init=function()
{$('.btShare').bind('mouseover',self.instanciate);};self.instanciate=function()
{if('undefined'==typeof addthis)
{jQuery.getScript(url,function(){addthis_config={ui_click:true,services_compact:services};addthis.init();addthis.button('.btShare');});}}
self.init();}
BOM.Utils.extendsPDD=function(text)
{var content=jQuery('<div>',{'class':'tooltipContent h ui-dialog modalDefault','text':text});content.appendTo(jQuery('.tooltipTrigger'));};BOM.Utils.liveValidation=function(oConf)
{this.options=jQuery.extend({'formValSel':'.v-validate'},oConf||{});this.init=function()
{jQuery(this.options.formValSel).each(function(){$this=jQuery(this);if(typeof $this.bomValidation==='function'){$this.bomValidation(oConf);}});};this.init();};BOM.Utils.loadScript=function(urlBase64,callback,allowCache){allowCache=(typeof allowCache!=='undefined')?allowCache:false;if(allowCache){BOM.Utils.loadScriptAndAllowCache(urlBase64,{success:callback});}else{jQuery.getScript(BOM.Utils.decode(urlBase64),function(){if(callback)callback();});}};BOM.Utils.loadScriptAndAllowCache=function(urlBase64,options){options=jQuery.extend(options||{},{dataType:"script",cache:true,url:BOM.Utils.decode(urlBase64)});return jQuery.ajax(options);};BOM.Utils.feedActivity=function(oConf)
{this.options=jQuery.extend({'activityValSel':'.bom-activity'},oConf||{});this.init=function()
{jQuery(this.options.activityValSel).each(function(){jQuery(this).bomFeedActivity(oConf);});};this.init();};BOM.Utils.addScript=function(sId,sUrl,sCallBack,sCallBackConf,async){var old=$(sId);var done=false;if(oldÂ !=null&&old.parentNode!=null){old.parentNode.removeChild(old);delete old;}
var script=document.createElement('script');script.id=sId;script.type='text/javascript';script.src=sUrl;script.async=async?async:false;var s=document.getElementsByTagName('script')[0];s.parentNode.appendChild(script);if(typeof sCallBack=='function'){if(jQuery.browser.msie){script.onreadystatechange=function(){if(!done&&(script.readyState=='complete'||script.readyState=='loaded')){sCallBack(sCallBackConf);done=true;}};}else{script.onload=function(){sCallBack(sCallBackConf);};}}};
BOM.namespace('BOM.User');BOM.User.isConnected=false;BOM.User.isGuest=false;BOM.User.displayCommunityBox=function(oConf)
{var url=BOM.Utils.decode(oConf.url);if(BOM.User.isConnected&&!BOM.User.isGuest&&(jQuery('aside.rightCol').length!==0))
{var box=jQuery('#communityBox');if(!box.length)
{box=jQuery('<div/>',{id:"communityBox"});jQuery('aside.rightCol').prepend(box);};var params={};jQuery.get(url,{},function(response){box.html(response);});};};jQuery('.comunityBoxLink, .comunityBoxLink .picto, .comunityBoxLinkLess, .comunityBoxLinkLess .picto').live('click',function(e){e.preventDefault();var target=jQuery(e.target),url=jQuery(target).closest('.comunityBoxLink, .comunityBoxLinkLess').attr('rel');if(url)
{jQuery('#comunityBox .ajaxLoader').removeClass('h');BOM.User.displayCommunityBox({url:url});}});function viewModal(url){return BOM.User.displayLogin(url);};BOM.User.animateGauge=function(conf)
{var currentLevel=conf.level,numLevels=conf.numLevels,levelWidth=jQuery('.rankThreshold'+currentLevel+' div').width(),nextLevel=currentLevel+1,points=conf.points,startPoint=((currentLevel-1)*levelWidth),bulleWidth=jQuery('.bulleJauge').width(),currentLevelDiv=jQuery('.rankThreshold'+currentLevel+' div'),position=Â startPoint+(((points-parseInt(currentLevelDiv.html(),10))*levelWidth)/((parseInt(jQuery('.rankThreshold'+nextLevel+' div').html(),10)-parseInt(currentLevelDiv.html(),10))));jQuery('.bulleJauge').css({marginLeft:-(bulleWidth/2)});if(currentLevel==numLevels)
{position=startPoint;}
jQuery('.bulleJauge').css('left',position);jQuery('.inJauge').css('width',position);if(jQuery('.ie6').length)
{jQuery('.usrLsb ul').css('zoom',1);}};BOM.User.personalInformationForm=function()
{var self=this,trigger=jQuery('.usrModify');var init=function()
{if(jQuery('.usrCancel:visible').length)
{trigger.each(function()
{jQuery(this).toggleClass('inactive');});}};init();self.classToggler=function(target,cls)
{jQuery(target).each(function()
{jQuery(this).toggleClass(cls);});};trigger.click(function(e)
{if(false===jQuery(e.originalTarget).hasClass('stopPropagation')&&false===jQuery(e.originalTarget).hasClass('inactive'))
{jQuery(this).parents('div.profileListingElm').hide().next('div.profileListingForm').show();self.classToggler('.usrModify','inactive');}});jQuery('.usrCancel').click(function()
{jQuery(this).parents('div.profileListingForm').hide().prev('div.profileListingElm').show();self.classToggler('.usrModify','inactive');});};BOM.User.toggler=function(oConf)
{if(undefined===oConf)return false;var self=this;jQuery(oConf.trigger).each(function(){jQuery(this).click(function(e)
{var target=jQuery(e.target).next(oConf.target);jQuery(this).toggle();jQuery(target).toggle();});});if(undefined!==oConf.rollBackBtn)
{jQuery(oConf.rollBackBtn).each(function(){jQuery(this).click(function(e)
{var parentForm=jQuery(e.target).parents(oConf.target);var toggleHandler=jQuery(parentForm).prev(oConf.trigger);jQuery(parentForm).toggle();jQuery(toggleHandler).toggle();});});}}
BOM.User.FormFocus=function(form){if(jQuery(form).find('input[type=text]').length){jQuery('input[type=text]:first',form).focus(BOM.User.FormValidation(form));}}
BOM.User.toggleButton=function(elm,state)
{var self=this,oElm=$(elm);if(state===!oElm.hasClass('inactive'))
return;this.init=function()
{if(state){oElm.removeClass('btInactive inactive').unbind('click.BomUsertoggleButton');}else{oElm.addClass('btInactive inactive').unbind('click.BomUsertoggleButton').bind('click.BomUsertoggleButton',jQuery.proxy(self,"clickHandler"));}}
this.clickHandler=function(e)
{e.preventDefault();return false;}
self.init();}
BOM.User.InputLimit=function(){self.init=function()
{jQuery('.limited').bind('keyup keypress click blur focus change paste',function(e){var target=jQuery(this);self.limit(target);});}
self.limit=function(target)
{var maxLength=jQuery(target).attr('rel'),currentValue=jQuery(target).val(),currentLength=currentValue.length;if(currentLength>maxLength){var newVal=currentValue.substring(0,maxLength);jQuery(target).empty().val(newVal);}};self.init();}
BOM.User.isOkElement=function(elm,valid,form)
{form=(form)?form:$(elm).parents('form');var bool=true;if(true==valid)
{if(jQuery(elm).hasClass('invalid')){jQuery(elm).removeClass('invalid');}
jQuery(elm).next('span.validator').removeClass('ajaxLoader').removeClass('pictoNotOk').addClass('pictoOk').addClass('picto');jQuery(elm).nextAll('.formError').addClass('h');jQuery.each(jQuery('.validator',form),function(key,value){if(!jQuery(value).hasClass('pictoOk'))
{bool=false;}});}
else
{jQuery(elm).addClass('invalid');jQuery(elm).next('span.validator').removeClass('ajaxLoader').removeClass('pictoOk').addClass('pictoNotOk').addClass('picto');if(jQuery('.validator').parent().hasClass('pictoNotOk'))
{BOM.User.toggleButton(jQuery('.btAjaxSubmit'),false);}
bool=true;jQuery.each(jQuery('.validator',form).parent(),function(key,value){if(!jQuery(value).hasClass('pictoOk'))
{bool=false;}});}
BOM.User.toggleButton(jQuery('.btAjaxSubmit',form),bool);};BOM.User.FormValidation=function(form)
{var self=this,ajaxUsernameUrl=BOM.config.ajaxUsernameUrl,ajaxEmailUrl=BOM.config.ajaxEmailUrl;var checkUsernameMinimalCharacters=3;self.checkUsernameThresholdCrossed=false;self.cacheUsr={};self.init=function(form)
{var validatorArray=['username','password','passwordCheck','email'],inputs=jQuery(form).find('input');BOM.User.toggleButton(jQuery('.btAjaxSubmit',form),false);self.checkSocialSignupInputs(jQuery(form).find('input[id="signup_username"]'),jQuery(form).find('input[id="signup_email"]'));jQuery(inputs).one('focus',function(e){if(jQuery.inArray(jQuery(e.target).attr('class').split(' ')[0],validatorArray)>-1)
{self[jQuery(e.target).attr('class').split(' ')[0]](jQuery(e.target));}});};self.checkSocialSignupInputs=function(usernameInput,emailInput){if(usernameInput.length&&usernameInput.val()!=''){self.checkUsername(usernameInput);}
if(emailInput.length&&emailInput.val()!=''){self.checkEmail(emailInput);}};self.keepOnlyOneCheckUsernameRequest=function(){if(typeof self.currentCheckUsernameRequest!=="undefined")
{self.currentCheckUsernameRequest.abort();}};self.keepOnlyOneCheckEmailRequest=function(){if(typeof self.currentCheckEmailRequest!=="undefined")
{self.currentCheckEmailRequest.abort();}};self.checkUsername=function(elm){var usernameInput=jQuery(elm);if(usernameInput.hasClass('noAjaxValidation')){self.isOkelement(elm,true);}
else{self.keepOnlyOneCheckUsernameRequest();usernameInput.next('span.validator').addClass('ajaxLoader').removeClass('pictoNotOk , pictoOk , picto');self.ajaxCheckUsername(elm);}};self.username=function(elm)
{jQuery(elm).bind('keyup',function(){if(!self.checkUsernameThresholdCrossed&&checkUsernameMinimalCharacters<=jQuery(elm).val().length)
{self.checkUsernameThresholdCrossed=true;}
if(self.checkUsernameThresholdCrossed)
{self.checkUsername(elm);}});jQuery(elm).bind('blur',function(){self.checkUsername(elm);});};self.checkPassword=function(elm,minLength)
{var passwordInput=jQuery(elm);(minLength<=passwordInput.val().length&&30>=passwordInput.val().length)?self.isOkelement(elm,true):self.isOkelement(elm,false);};self.password=function(elm)
{var minLength=6;if(jQuery(elm).attr('min-length'))
{minLength=jQuery(elm).attr('min-length');}
jQuery(elm).bind('keyup blur',function(){self.checkPassword(elm,minLength);});};self.checkConfirmPassword=function(elm)
{(jQuery(elm).val()==jQuery('#usrModal .password').val())?self.isOkelement(elm,true):self.isOkelement(elm,false);};self.passwordCheck=function(elm)
{jQuery(elm).bind('keyup blur',function(){self.checkConfirmPassword(elm);});};self.checkEmail=function(elm){self.keepOnlyOneCheckEmailRequest();self.ajaxCheckEmail(elm);};self.ajaxCheckEmail=function(elm)
{var emailInput=jQuery(elm);var data={email:emailInput.val()};if(emailInput.hasClass('lostPassword')){data.isLostPassword=true;}
self.currentCheckEmailRequest=jQuery.ajax({url:ajaxEmailUrl,type:'post',data:data,success:function(response)
{self.valid(response,elm);}});};self.email=function(elm)
{jQuery(elm).bind('keyup blur',function(){self.checkEmail(elm);});};self.valid=function(response,elm)
{if(!response.success)
{self.isOkelement(elm,false);var errorField=jQuery(elm).nextAll('.formError');errorField.removeClass('h');for(var i in response.errors){errorField.html(response.errors[i]);break;}}else{self.isOkelement(elm,true)}};self.isOkelement=function(elm,valid)
{BOM.User.isOkElement(elm,valid);}
self.ajaxCheckUsername=function(elm)
{var currentUsername=jQuery(elm).val();self.currentCheckUsernameRequest=jQuery.ajax({url:ajaxUsernameUrl,type:'post',data:{username:currentUsername},success:function(response)
{self.valid(response,elm);}});};self.init(form);};BOM.User.displayLogin=function(url){var msg=jQuery('#loginMsg');if(!msg.length){msg=jQuery('<div/>',{id:"loginMsg"});jQuery('body').append(msg);};jQuery.post(url,function(response)
{msg.html(response);options={width:410,dialogClass:'modalDefault',modal:true,resizable:false,draggable:false};msg.dialog(options);});};BOM.User.Dialog=function(oConf,options)
{var self=this,modale;BOM.User.Dialog.Instance=self;var MAX_ZINDEX=9999990;self.options=jQuery.extend({width:'auto',minHeight:false,dialogClass:'modalDefault',modal:true,resizable:false,close:function()
{jQuery('.btAjaxSubmit').die('click');jQuery('.bomdialog-follow').die('click');BOM.UI.oDialog.pop();console.log(self.modale);jQuery('.modaleElm').remove();BOM.User.removeLoadingStatusOnPageButtons();},open:function(event,ui)
{jQuery('.ui-widget-overlay').css("z-index",MAX_ZINDEX-1);jQuery('.ui-dialog.modalDefault').css("z-index",MAX_ZINDEX);}},options||{});self.init=function()
{jQuery('.bomdialog').live('click',function(e){self.open(e);});};self.request=function(url,options)
{var options=jQuery.extend({type:'GET',url:url,beforeSend:function()
{jQuery(self.modale).empty().addClass('ajaxLoader').dialog("option","position",'center');},success:function(response)
{if(response){jQuery(self.modale).removeClass('ajaxLoader');self.updater(response);if(BOM.SocialLogin.readyLoader.length){BOM.SocialLogin.launchReadyLoader();}}else{BOM.Utils.reloadPage();}}},options||{});jQuery.ajax(options);};self.updater=function(response)
{if(typeof response=='string')
{var response2=response;try{response2=jQuery.parseJSON(response2);}catch(er){}
if(typeof response2=='object')
response=response2;}
if(typeof response=='object')
{if(undefined!=response.redirect)
{document.location.href=response.redirect;$(self.modale).dialog('close');}
else if(undefined!=response.message)
{$(self.modale).empty().html('<p class="font123 bold cError">'+response.message+"</p>").dialog("option","position",'center');}
else if(undefined!=response.ssoBeaconUrl){BOM.sso.injectSsoImg(response.ssoBeaconUrl);}}
else
{$(self.modale).empty().html(response).dialog("option","position",'center');}};self.openFromElement=function(selector)
{var trigger=jQuery(selector);if(!trigger.size())
{return false;}
self.open('',trigger);}
self.openFromNewElement=function(eltConf)
{if(!eltConf||!eltConf.tag||!eltConf.attr)
{return false;}
var trigger=jQuery(eltConf.tag,eltConf.attr).appendTo('body');self.open('',trigger);}
self.open=function(e,trig)
{if(e)e.preventDefault();var trigger=e?jQuery(e.currentTarget):trig;if(!trigger.size())
{return false;}
if(jQuery('#usrModal').length==0)
{modale=jQuery('<div>',{'id':'usrModal'}).append('body');BOM.UI.oDialog.push(modale);}else{modale=jQuery('#usrModal');}
jQuery(modale).html('');var dialogSize=self.getTriggerDialogSize(trigger);var defaultDialogClass=self.options.dialogClass;if(dialogSize&&dialogSize.className){self.options.dialogClass+=' '+dialogSize.className;self.options.width=dialogSize.pc;}
if(undefined!==self.options.buttons)
delete self.options.buttons;if(trigger.hasClass('bomdialog-yesno')||trigger.hasClass('bomdialog-yes')){self.options.buttons={};self.options.buttons[trigger.attr('bomdialog-label-yes')?trigger.attr('bomdialog-label-yes'):'yes']=function(){if(trigger.hasClass('bomdialog-forward')){self.confirmForwardLoad(trigger);}else{self.confirmAjaxLoad(trigger);}};if(trigger.hasClass('bomdialog-yesno'))
self.options.buttons[trigger.attr('bomdialog-label-no')?trigger.attr('bomdialog-label-no'):'no']=self.close;}
self.modale=jQuery(modale).dialog(self.options);if(trigger.attr('bomdialog-msg')){jQuery(modale).html(trigger.attr('bomdialog-msg'));}
else if(trigger.attr('bomdialog-img')){var img=jQuery('<img src="'+jQuery(trigger).attr('bomdialog-img')+'" class="inner15" /></div>');self.modale.html(img);img.bind('load',function(e){self.modale.dialog("option","width",img.width()+60);self.modale.dialog("option","position",'center');})}
else
{var ajaxOptions={complete:function()
{var form=jQuery(self.modale).find('form');BOM.User.FormFocus(form);jQuery('.bomdialog-follow').live('click',function(e){e.preventDefault();jQuery.ajax({url:BOM.Utils.decode(jQuery(e.currentTarget).attr('rel')),beforeSend:function()
{jQuery(self.modale).html('');jQuery(self.modale).addClass('ajaxLoader').removeClass('h');},success:function(response)
{jQuery(self.modale).removeClass('ajaxLoader');jQuery(self.modale).html(response);var followSize=self.getTriggerDialogSize(e.target);if(followSize&&followSize.className)
{jQuery(self.modale).dialog('option','dialogClass',defaultDialogClass+' '+followSize.className);jQuery(self.modale).dialog('option','width',followSize.pc);}
else
{jQuery(self.modale).dialog('option','width','auto');}
jQuery(self.modale).dialog('option','position','center');form=jQuery(self.modale).find('form');BOM.User.FormFocus(form);if(BOM.SocialLogin.readyLoader.length){BOM.SocialLogin.launchReadyLoader();}}});});jQuery('.bomdialog-show').live('click',function(e){e.preventDefault();self.setTriggerDialogOptions(e.target,jQuery(self.modale).dialog);jQuery('.bomdialog-show').next('.bomdialog-toshow').toggle();});jQuery('.btAjaxSubmit').live('click',function(e){BOM.User.Dialog.submitForm(e,$(e.target).parents('form'),trigger,self);});jQuery('.ui-dialog-content .btClose').unbind('click').bind('click',function(e){self.modale.dialog("close");});}};getExtraDataHandler=jQuery(e.currentTarget).attr('data-getExtraDataHandler');var extraData=false;if(getExtraDataHandler)
{try{getExtraDataHandlerFunc=eval(getExtraDataHandler);extraData=getExtraDataHandlerFunc.apply();}
catch(err)
{}}
if(false!==extraData)
{ajaxOptions.data=extraData;ajaxOptions.type='POST';}
self.request(BOM.Utils.decode(jQuery(trigger).attr('rel')),ajaxOptions);}
jQuery('.ui-widget-overlay').live('click',function()
{jQuery('.btAjaxSubmit').die('click');jQuery('.bomdialog-follow').die('click');jQuery(self.modale).remove();});};self.getTriggerDialogSize=function(trigger)
{var tClass=jQuery(trigger).attr('class');if(!trigger||!/bomdialogSize/i.test(tClass))
return false;var cls=jQuery(trigger).attr('class').match(/bomdialogSize(\d)+of(\d)+/i);var size={};size.className=cls[0].replace(/bomdialogSize/i,'size');size.pc=Math.round((cls[1]*100/cls[2])*100)/100+'%';return size;};self.close=function()
{self.modale.dialog("close");}
self.confirmForwardLoad=function(trigger)
{if(undefined!==jQuery(trigger).attr('rel'))
{document.location.href=BOM.Utils.decode(jQuery(trigger).attr('rel'));}}
self.confirmAjaxLoad=function(trigger)
{if(undefined!==jQuery(trigger).attr('rel'))
{jQuery.ajax({type:'GET',url:BOM.Utils.decode(jQuery(trigger).attr('rel')),success:function(response)
{if(typeof response=='string')
response=jQuery.parseJSON(response);if(response.success)
{if(jQuery(trigger).hasClass('bomdialog-redirect'))
{if(jQuery(trigger).attr('data-href'))
{self.request(BOM.Utils.decode(jQuery(trigger).attr('data-href')));}
else
{self.request(jQuery(trigger).attr('href'));}}
else if(jQuery(trigger).hasClass('bomdialog-success'))
{jQuery('.bomdialog-content').addClass('h');jQuery('.bomdialog-content-success').removeClass('h');}
else if(undefined!=response.redirect)
{document.location.href=response.redirect;}
else
{if(undefined!=jQuery(trigger).attr('data-href')&&0<jQuery(trigger).attr('data-href').length)
{document.location.href=BOM.Utils.decode(jQuery(trigger).attr('data-href'));}
else if(undefined!=jQuery(trigger).attr('href')&&0<jQuery(trigger).attr('href').length)
{document.location.href=jQuery(trigger).attr('href');}
else if(jQuery(trigger).is('input')||jQuery(trigger).is('button'))
{jQuery(trigger).parents('form').submit();}
jQuery(trigger).removeClass('bomdialog').unbind('click');self.modale.dialog("close");}}else{}}});}}
self.init();};BOM.User.Dialog.submitForm=function(e,form,trigger,self)
{e.preventDefault();BOM.User.addLoadingStatusOnElement(e.target);var urlForm=form.attr('action'),contentForm=form.serialize();jQuery.ajax({type:'POST',url:urlForm,data:contentForm,success:function(response)
{if(typeof response=='string')
response=jQuery.parseJSON(response);if(response.success)
{BOM.User.isConnected=true;if(undefined!=response.socialProxy&&response.socialProxy=="true"){var socialProxyUrlParts=$('#socialProxy').attr('src').split('#');var socialProxyIframe=$('#socialProxy');if(undefined!=response.ssoBeaconUrl){BOM.sso.addUserConnectedHandler(function(){if(response.sfAction=='guestCreation'){socialProxyIframe.attr('src',socialProxyUrlParts[0]+'#callback|closeGuestCreation');}
else{socialProxyIframe.attr('src',socialProxyUrlParts[0]+'#callback|closeIframe');}
socialProxyIframe.width(socialProxyIframe.width()+1);});BOM.sso.injectSsoImg(response.ssoBeaconUrl);}else{socialProxyIframe.attr('src',socialProxyUrlParts[0]+'#callback|closeIframe');socialProxyIframe.width(socialProxyIframe.width()+1);}}
if(jQuery(trigger).hasClass('bomdialog-redirect'))
{if(jQuery(trigger).attr('data-href'))
{self.request(BOM.Utils.decode(jQuery(trigger).attr('data-href')));}
else
{self.request(jQuery(trigger).attr('href'));}}
else if(jQuery(trigger).hasClass('bomdialog-success'))
{jQuery('.bomdialog-content',form).addClass('h');jQuery('.bomdialog-content-success',form).removeClass('h');}
else if(undefined!=response.ssoBeaconUrl)
{BOM.sso.injectSsoImg(response.ssoBeaconUrl);}
else if(undefined!=response.redirect)
{window.location=response.redirect;}
else
{if(jQuery(trigger).hasClass('bomdialog-reloadPage')){window.location.reload();}
else if(undefined!=jQuery(trigger).attr('data-href')&&0<jQuery(trigger).attr('data-href').length)
{document.location.href=BOM.Utils.decode(jQuery(trigger).attr('data-href'));}
else if(undefined!=jQuery(trigger).attr('href')&&0<jQuery(trigger).attr('href').length)
{document.location.href=jQuery(trigger).attr('href');}
else if(jQuery(trigger).is('input')||jQuery(trigger).is('button'))
{jQuery(trigger).parents('form').submit();}
jQuery(trigger).removeClass('bomdialog').unbind('click');if(undefined!=self){self.modale.dialog("close");}}}else{BOM.User.removeLoadingStatusOnPageButtons();for(i in response.errors)
{jQuery('.'+i,form).addClass('invalid');jQuery('.'+i,form).next('span.validator').removeClass('ajaxLoader').addClass('pictoNotOk');jQuery('.'+i,form).nextAll('.formError').removeClass('h');if(undefined!=BOM.config.trads[response.errors[i]])
{jQuery('.'+i,form).nextAll('.formError').html(BOM.config.trads[response.errors[i]]);}else{jQuery('.'+i,form).nextAll('.formError').html(response.errors[i]);}}}}});};BOM.User.Dialog.unAuthCallbackAfterFormSubmit=function(f,sel)
{if(false==BOM.User.isConnected)
{BOM.User.Dialog.Instance.openFromElement(sel);BOM.User.removeLoadingStatusOnPageButtons();return false;}
return true;};BOM.User.Dialog.displayCreationAccountFormAfterFormSubmit=function(functionUnused,buttonSelector)
{var buttonObject=$(buttonSelector);if(false==BOM.User.isConnected)
{var form=buttonObject.parents('form');var createTopicSignupUrl=BOM.Utils.decode(buttonObject.attr('rel'));$.get(createTopicSignupUrl,function(data){$(data).insertAfter('#'+form.attr('id'));});return false;}
return true;};BOM.User.switchButtonToLoadingStatus=function(oConf)
{$(oConf.button).click(function(e){BOM.User.addLoadingStatusOnElement(this);});};BOM.User.addLoadingStatusOnElement=function(element)
{var clickedButton=$(element);clickedButton.addClass('btLoading loading');var buttonParent=clickedButton.parent();var buttonAjaxLoader=$('.bomdialog-action-loader',buttonParent);if(buttonAjaxLoader.length==0){buttonParent.prepend('<div class="unit bomdialog-action-loader ajaxLoader spaceR10 spaceT10"></div>');}else{buttonAjaxLoader.addClass('ajaxLoader').removeClass('h');}};BOM.User.removeLoadingStatusOnPageButtons=function()
{$('.btLoading.loading').removeClass('btLoading loading');$('.bomdialog-action-loader').addClass('h').removeClass('ajaxLoader');};
BOM.config.readyLoader=new Array();BOM.Utils.readyLoader=function(oConf)
{var self=this;self.init=function(oConf)
{this.add(oConf);};self.add=function(oConf)
{for(var i=0;i<oConf.length;i++)
{if('function'==typeof oConf[i][0]&&'undefined'!=oConf[i][0]){if(1<oConf[i].length)
{oConf[i][0](oConf[i][1]);}
else
{oConf[i][0]();}}}};self.init(oConf);};jQuery(document).ready(function()
{BOM.Utils.readyLoader(BOM.config.readyLoader);if('function'==typeof jQuery.fn.lazyload){BOM.Utils.lazy();}
if('function'==typeof BOM.Utils.lazyBom){BOM.Utils.lazyBom();}});BOM.Utils.lazy=function(callback){if(BOM.Utils.userAgent.indexOf('iPad')!=-1||BOM.Utils.userAgent.indexOf('iPhone')!=-1){jQuery('.imgLz').each(function(){jQuery(this).attr('src',jQuery(this).attr('data-src')).bind('load',function(){if('function'==typeof callback){callback();}});});}
else{jQuery('.imgLz').lazyload({placeholder:"http://m.bestofmedia.com/sfp/images/design/beacons/lazy.png",effect:"fadeIn",threshold:200,callback:callback});}};
BOM.namespace('BOM.sso');BOM.sso.injectSsoImg=function(url){if(undefined===url){throw new Error("MissingArgumentException");}else{$(document).bind('userConnected',BOM.sso.callUserConnectedHandlers);var img=new Image();img.onload=BOM.sso.imgLoaded;img.src=url;return img;}};BOM.sso.imgLoaded=function(){BOM.User.isConnected=true;$(document).trigger('userConnected');};BOM.sso._handlers=[];BOM.sso.addUserConnectedHandler=function(f){BOM.sso._handlers.push(f);};BOM.sso.callUserConnectedHandlers=function(){for(var i=0;i<BOM.sso._handlers.length;i++){BOM.sso._handlers[i].call();}
if(BOM.sso._handlers.length===0){BOM.sso.defaultUserConnectedHandler();}};BOM.sso.defaultUserConnectedHandler=function(){window.location.reload(true);};BOM.sso.creationContent=function(config){if(false===BOM.User.isConnected){$(config.trigger).one(config.event,function(){BOM.sso.addUserConnectedHandler(function(){config.callback.apply();});});}};
BOM.SocialLogin=BOM.SocialLogin?BOM.SocialLogin:{};BOM.SocialLogin.readyLoader=new Array();BOM.SocialLogin.launchReadyLoader=function(){for(var i=0;i<BOM.SocialLogin.readyLoader.length;i++){BOM.SocialLogin.readyLoader[i]();}};BOM.SocialLogin.showLoginUI=function(conf,login_params){gigya.services.socialize.showLoginUI(conf,login_params);};BOM.SocialLogin.showAddConnectionsUI=function(conf,login_params){gigya.services.socialize.showAddConnectionsUI(conf,login_params);};BOM.SocialLogin.showEditConnectionsUI=function(conf,edit_params){gigya.services.socialize.showEditConnectionsUI(conf,edit_params);};BOM.SocialLogin.addEventHandlers=function(conf,event_params){gigya.services.socialize.addEventHandlers(conf,event_params);};BOM.SocialLogin.getUserInfo=function(conf,callbackFunction){gigya.services.socialize.getUserInfo(conf,{callback:callbackFunction});};BOM.SocialLogin.login=function(){BOM.SocialLogin.getUserInfo({},function(response){var socialUID=response['user']['UID'];if(socialUID!=''){if(BOM.SocialLogin.iframe){BOM.Utils.openPage(BOM.SocialLogin.buildLoginUrl(socialUID));}else{BOM.SocialLogin.openDialog(socialUID);}}});};BOM.SocialLogin.notifyLogin=function(conf,notify_params){gigya.services.socialize.notifyLogin(conf,notify_params);};BOM.SocialLogin.buildLoginUrl=function(uid){var paramSeparator=(BOM.SocialLogin.routes.socialLoginRelUrl.indexOf('?')==-1)?'?':'&';var url=BOM.SocialLogin.routes.socialLoginRelUrl+paramSeparator+'gigyaUid='+encodeURIComponent(uid);if(BOM.SocialLogin.iframe){url=url+'&iframe=1';}
if(BOM.SocialLogin.socialProxy){url=url+'&socialProxy='+BOM.SocialLogin.socialProxy;}
return url;};BOM.SocialLogin.encodeLoginUrl=function(uid){return BOM.Utils.encode(BOM.SocialLogin.buildLoginUrl(uid));};BOM.SocialLogin.onLoginHandler=function(){BOM.SocialLogin.login();};BOM.SocialLogin.logout=function(){gigya.services.socialize.logout();};BOM.SocialLogin.addConnection=function(conf){gigya.socialize.addConnection(conf);};BOM.Utils.reloadPage=function(){top.location.href=window.location.href;};BOM.Utils.openPage=function(url){window.location.href=url;};BOM.Utils.closePage=function(){top.window.close();};
BOM.SocialLogin.openDialog=function(uid){var bomLinkAccountLinkId='socialLinkAccount';$('#'+bomLinkAccountLinkId).remove();var bomLinkAccountLink=$('<a rel="'+BOM.SocialLogin.encodeLoginUrl(uid)+'" class="bomdialog bomdialogSize1of2 crLink" id="'+bomLinkAccountLinkId+'"></a>');$('body').append(bomLinkAccountLink);var dialogEvent=jQuery.Event();dialogEvent.currentTarget=bomLinkAccountLink;var dialog=new BOM.User.Dialog();dialog.open(dialogEvent);};
BOM.SocialShare=BOM.SocialShare?BOM.SocialShare:{};BOM.SocialShare.publishUserAction=function(title,linkBack,description){var act=new gigya.socialize.UserAction();act.setTitle(title);act.setLinkBack(linkBack);act.setDescription(description);var params={userAction:act,scope:'both',privacy:'friends'};gigya.socialize.publishUserAction(params);};BOM.SocialShare.TopicCreationPage=function()
{var self=this;self.init=function()
{self.retrieveUserSocialIdentitiesOnFirstClick();};self.retrieveUserSocialIdentitiesOnFirstClick=function(){$('.socialShare .providerIcon').one("click",function(){var providerIcon=$(this);var provider=providerIcon.attr('data-name');self.unbindEventsOnProviderIcons();BOM.Metrics.setStartTime('ShareCreationGetUserInfo');BOM.SocialLogin.getUserInfo({},function(response){BOM.Metrics.setEndTime('ShareCreationGetUserInfo');if(response.errorCode==0){self.removeNotLinkedProviderClassWhenUserLinked(response.user.identities);BOM.SocialShare.TopicCreationPage.tickProviderIconOrAddConnection(provider);BOM.SocialShare.TopicCreationPage.displaySocialIcons();BOM.SocialShare.TopicCreationPage.manageSocialConnections();}});});};self.unbindEventsOnProviderIcons=function(){$('.socialShare .providerIcon').unbind();};self.removeNotLinkedProviderClassWhenUserLinked=function(identities){$('.socialIcons .providerIcon').each(function(){var providerIcon=$(this);var provider=providerIcon.attr('data-name');if(identities[provider]){providerIcon.removeClass('notLinkedProvider');}});};self.init();return self;};BOM.SocialShare.TopicCreationPage.manageSocialIconsState=function(provider){var socialShareProviderInput=$('[id*="_social_share_'+provider+'"]');if(socialShareProviderInput.length&&!socialShareProviderInput.is(':checked')){$('.providerIcon.'+provider+'Icon').parent().addClass('active');socialShareProviderInput.attr('checked',true);}else{$('.providerIcon.'+provider+'Icon').parent().removeClass('active');socialShareProviderInput.attr('checked',false);}};BOM.SocialShare.TopicCreationPage.displaySocialIcons=function(){$('.socialShare .providerIcon:not(.notLinkedProvider)').click(function(){var provider=$(this).attr('data-name');BOM.SocialShare.TopicCreationPage.manageSocialIconsState(provider);});};BOM.SocialShare.TopicCreationPage.addConnectionAndGreenTickProvider=function(response){if(response.errorCode==0){var clickedProvider=response.context;$('.socialShare .providerIcon[data-name="'+clickedProvider+'"]').removeClass('notLinkedProvider').unbind('click');BOM.SocialShare.TopicCreationPage.manageSocialIconsState(clickedProvider);BOM.SocialShare.TopicCreationPage.displaySocialIcons();}};BOM.SocialShare.TopicCreationPage.manageSocialConnections=function(){$('.socialShare .providerIcon.notLinkedProvider').click(function(){BOM.SocialShare.TopicCreationPage.addConnection($(this).attr('data-name'));});};BOM.SocialShare.TopicCreationPage.addConnection=function(provider){var connectionConf={provider:provider,callback:BOM.SocialShare.TopicCreationPage.addConnectionAndGreenTickProvider,context:provider};BOM.SocialLogin.addConnection(connectionConf);};BOM.SocialShare.TopicCreationPage.tickProviderIconOrAddConnection=function(provider){var providerIcon=$('.socialShare .providerIcon[data-name="'+provider+'"]');if(providerIcon.hasClass('notLinkedProvider')){BOM.SocialShare.TopicCreationPage.addConnection(provider);}else{BOM.SocialShare.TopicCreationPage.manageSocialIconsState(provider);}};
BOM.SocialFollow=BOM.SocialFollow?BOM.SocialFollow:{};BOM.SocialFollow.showFollowBarUI=function(params){gigya.services.socialize.showFollowBarUI(params);}
BOM.Share=BOM.Share?BOM.Share:{};BOM.Share.init=function(conf,params){BOM.Share.conf=conf;BOM.Share.ua=new gigya.services.socialize.UserAction();BOM.Share.params=params;};BOM.Share.setActions=function(uaOptions){for(var i=0,c=uaOptions.length;i<c;i++){if(typeof uaOptions[i]!='undefined'&&typeof BOM.Share.ua[uaOptions[i][0]]!='undefined'&&'function'==typeof BOM.Share.ua[uaOptions[i][0]]){BOM.Share.ua[uaOptions[i][0]](uaOptions[i][1]);}}
BOM.Share.params.userAction=BOM.Share.ua;};BOM.Share.setPersonnalizedUserAction=function(uaOptions,provider){for(var i=0,c=uaOptions.length;i<c;i++){if(typeof uaOptions[i]!='undefined'&&typeof BOM.Share.ua[uaOptions[i][0]]!='undefined'&&'function'==typeof BOM.Share.ua[uaOptions[i][0]]){BOM.Share.ua[uaOptions[i][0]](uaOptions[i][1]);}}
BOM.Share.params[provider+'UserAction']=BOM.Share.ua;};BOM.Share.display=function(){gigya.services.socialize.showShareBarUI(BOM.Share.conf,BOM.Share.params);};BOM.Share.executeAll=function(arrCallbacks){for(var i=0;i<arrCallbacks.length;i++){arrCallbacks[i]();}};
BOM.Metrics=BOM.Metrics?BOM.Metrics:{};if(!PERFS)var PERFS={};PERFS.metrics=PERFS.metrics?PERFS.metrics:{};BOM.Metrics.setStartTime=function(componentName){BOM.Metrics[componentName]=BOM.Metrics[componentName]?BOM.Metrics[componentName]:{};BOM.Metrics[componentName].StartTime=new Date().getTime();};BOM.Metrics.sendLoadTime=function(componentName){BOM.Metrics[componentName]=BOM.Metrics[componentName]?BOM.Metrics[componentName]:{};BOM.Metrics[componentName].TimeSpent=BOM.Metrics[componentName].EndTime-BOM.Metrics[componentName].StartTime;PERFS.metrics[componentName]=BOM.Metrics[componentName].TimeSpent;if(typeof BOM.Metrics.GoogleAnalyticsEnabled!=='undefined'&&BOM.Metrics.GoogleAnalyticsEnabled){_gaq.push(['_setAccount',BOM.Metrics.GoogleAnalyticsAccount],['_trackTiming','Client load time',componentName,PERFS.metrics[componentName]]);}else if(typeof console!=='undefined'&&typeof console.log!=='undefined'){console.log('Client load time spent on "'+componentName+'" = '+PERFS.metrics[componentName]+' ms');}};BOM.Metrics.setEndTime=function(componentName){BOM.Metrics[componentName]=BOM.Metrics[componentName]?BOM.Metrics[componentName]:{};BOM.Metrics[componentName].EndTime=new Date().getTime();BOM.Metrics.sendLoadTime(componentName);};
if(typeof BOM==='undefined'){BOM={};}
if(typeof BOM.Utils==='undefined'){BOM.Utils={};}
BOM.Utils.lazyBom=function(oConf){oConf=jQuery.extend({init:true,elementsAccessor:'.bomLz'},oConf||{});var self=this;self.oConf=oConf;self.elements=jQuery(oConf.elementsAccessor);self.init=function(){jQuery(window).bind('scroll',self.scroll);jQuery(oConf.elementsAccessor).bind('appear',self.retrieveData);self.scroll();};self.scroll=function(){self.elements.each(function(i,elem){if(self.isInWindow(elem)){jQuery(elem).trigger('appear');}});};self.isInWindow=function(elem){return(self.topOfElementIsInWindow(elem)||self.bottomOfElementIsInWindow(elem)||self.elementJutsOutOnTopAndBottom(elem))&&(self.leftOfElementIsInWindow(elem)||self.rightOfElementIsInWindow(elem)||self.elementJutsOutOnLeftAndRight(elem));};self.topOfElementIsInWindow=function(elem){var elementY=self.getElementY(elem);var windowY=self.getWindowY();var windowHeight=self.getWindowHeight();return elementY>=windowY&&elementY<windowY+windowHeight;};self.leftOfElementIsInWindow=function(elem){var elementX=self.getElementX(elem);var windowX=self.getWindowX();var windowWidth=self.getWindowWidth();return elementX>=windowX&&elementX<windowX+windowWidth;};self.bottomOfElementIsInWindow=function(elem){var elementY=self.getElementY(elem);var elementHeight=self.getElementHeight(elem);var windowY=self.getWindowY();var windowHeight=self.getWindowHeight();return elementY+elementHeight>windowY&&elementY+elementHeight<=windowY+windowHeight;};self.rightOfElementIsInWindow=function(elem){var elementX=self.getElementX(elem);var elementWidth=self.getElementWidth(elem);var windowX=self.getWindowX();var windowWidth=self.getWindowWidth();return elementX+elementWidth>windowX&&elementX+elementWidth<=windowX+windowWidth;};self.elementJutsOutOnLeftAndRight=function(elem){var elementY=self.getElementY(elem);var elementHeight=self.getElementHeight(elem);var windowY=self.getWindowY();var windowHeight=self.getWindowHeight();return elementY<windowY&&(elementY+elementHeight)>(windowY+windowHeight);};self.elementJutsOutOnTopAndBottom=function(elem){var elementX=self.getElementX(elem);var elementWidth=self.getElementWidth(elem);var windowX=self.getWindowX();var windowWidth=self.getWindowWidth();return elementX<windowX&&(elementX+elementWidth)>(windowX+windowWidth);};self.getWindowY=function(){return jQuery(window).scrollTop();};self.getWindowX=function(){return jQuery(window).scrollLeft();};self.getWindowHeight=function(){return self.getElementHeight(window);};self.getWindowWidth=function(){return self.getElementWidth(window);};self.getElementY=function(elem){return jQuery(elem).offset().top;};self.getElementX=function(elem){return jQuery(elem).offset().left;};self.getElementHeight=function(elem){return jQuery(elem).height();};self.getElementWidth=function(elem){return jQuery(elem).width();};self.retrieveData=function(){if(typeof BOM.Utils.templating=='undefined'){return;}
var $elem=jQuery(this);var url=$elem.data('src');self.elements=self.elements.not($elem);if(url!=null&&url!=""){jQuery.ajax({url:url,type:'GET',context:this,dataType:$elem.data('tmpl')!=null?'json':'html',success:self.injectData,error:self.error});}};self.injectData=function(data){var $elem=jQuery(this);var templateId=$elem.data('tmpl');if(templateId!=null&&templateId!=''){$elem.html(BOM.Utils.templating.render(templateId,data));}else{$elem.html(data);}};self.error=function(xhr){if(typeof console!='undefined'){var errorMsg='LazyBom: '+xhr.status+' error';if(typeof console.error==='function'){console.error(errorMsg);}else if(typeof console.log==='function'){console.log(errorMsg);}}};if(oConf.init){self.init();}
return self;};
BOM.Xiti.xtClick=function(oConf){oConf=jQuery.extend({init:true,selector:'.bomxtclick'},oConf||{});var self=this;self.oConf=oConf;self.xtTypeMap={'navigation':['C','N'],'download':['C','T'],'exit':['C','S'],'action':['C','A']};self.init=function(){self.log('BOM.Xiti.xtClick: enabled');jQuery(this.oConf.selector).click(jQuery.proxy(this.setXtClick,this));};self.setXtClick=function(e){var el=this.getXtClickElement(e.target);var type=self.getXtType(el);var params=this.getXtParams(el);var typeArray=self.xtTypeMap[type];self.log('Xt Type: '+type);self.log('Xt type of click: '+typeArray[1]);self.log('Xt Level2_ID: '+params[0]);self.log('Xt Click_label: '+params[1]);self.log('Xt SUCCESS executing: xt_click('+[typeArray[0],params[0],params[1],typeArray[1]].join(',')+')');return xt_click(el,typeArray[0],params[0],params[1],typeArray[1]);};self.getXtClickElement=function(el){var $el=jQuery(el);return $el.is(this.oConf.selector)?$el.get():$el.closest(this.oConf.selector);};self.log=function(str){if('prod'!=BOM.config.env&&typeof console!=='undefined'&&typeof console.log!=='undefined'){console.log(str);}};self.getXtType=function(el){var type=jQuery(el).data('xttype');if(typeof self.xtTypeMap[type]==='undefined'){throw{name:'Error',message:'xtType missing or unknown see BOM.Xiti.xtClick:'+type};}
return type;};self.getXtParams=function(el){var params=jQuery(el).data('xtparams');if(typeof params==='undefined'){throw{name:'Error',message:'xtParams missing see BOM.Xiti.xtClick'};}
params=params.split(',');if(params.length!=2){throw{name:'Error',message:'xtParams missing see BOM.Xiti.xtClick:'+params.length};}
return params;};if(self.oConf.init){self.init();}
return self;};